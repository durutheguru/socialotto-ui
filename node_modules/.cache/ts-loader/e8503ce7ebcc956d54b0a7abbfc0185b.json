{"remainingRequest":"/Users/dduru/VSCode/OmarzeUI/node_modules/babel-loader/lib/index.js!/Users/dduru/VSCode/OmarzeUI/node_modules/ts-loader/index.js??ref--13-2!/Users/dduru/VSCode/OmarzeUI/src/vues/backoffice/vues/campaign/dialog/new-campaign/CreateCampaignDialog.ts","dependencies":[{"path":"/Users/dduru/VSCode/OmarzeUI/src/vues/backoffice/vues/campaign/dialog/new-campaign/CreateCampaignDialog.ts","mtime":1594595412457},{"path":"/Users/dduru/VSCode/OmarzeUI/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dduru/VSCode/OmarzeUI/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/dduru/VSCode/OmarzeUI/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiL1VzZXJzL2RkdXJ1L1ZTQ29kZS9PbWFyemVVSS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIi9Vc2Vycy9kZHVydS9WU0NvZGUvT21hcnplVUkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gIi9Vc2Vycy9kZHVydS9WU0NvZGUvT21hcnplVUkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iOwppbXBvcnQgX2dldFByb3RvdHlwZU9mIGZyb20gIi9Vc2Vycy9kZHVydS9WU0NvZGUvT21hcnplVUkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2dldFByb3RvdHlwZU9mIjsKaW1wb3J0IF9pbmhlcml0cyBmcm9tICIvVXNlcnMvZGR1cnUvVlNDb2RlL09tYXJ6ZVVJL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pbmhlcml0cyI7CmltcG9ydCB7IF9fZGVjb3JhdGUgfSBmcm9tICJ0c2xpYiI7CmltcG9ydCB7IENvbXBvbmVudCwgUHJvcCB9IGZyb20gJ3Z1ZS1wcm9wZXJ0eS1kZWNvcmF0b3InOwppbXBvcnQgQmFzZVZ1ZSBmcm9tICdAL2NvbXBvbmVudHMvQmFzZVZ1ZSc7CmltcG9ydCBNb2RhbCBmcm9tICdAL2NvbXBvbmVudHMvbW9kYWwvTW9kYWwnOwppbXBvcnQgV2l0aFJlbmRlciBmcm9tICcuL2NyZWF0ZS1jYW1wYWlnbi1kaWFsb2cuaHRtbCc7CmltcG9ydCB7IENvbnN0YW50cywgVXRpbCwgTG9nIH0gZnJvbSAnQC9jb21wb25lbnRzL3V0aWwnOwppbXBvcnQgQ2FtcGFpZ25TZXJ2aWNlIGZyb20gJy4uLy4uL3NlcnZpY2UvQ2FtcGFpZ25TZXJ2aWNlJzsKaW1wb3J0IFBhcnRuZXJTZXJ2aWNlIGZyb20gJy4uLy4uLy4uL3BhcnRuZXIvc2VydmljZS9QYXJ0bmVyU2VydmljZSc7CmltcG9ydCBBcGlSZXNvdXJjZUxpc3QgZnJvbSAnQC9jb21wb25lbnRzL2NvcmUvQXBpUmVzb3VyY2VMaXN0JzsKaW1wb3J0IFdpemFyZFBhZ2VUb2dnbGUgZnJvbSAnQC9jb21wb25lbnRzL21vZGFsL3dpemFyZC9XaXphcmRQYWdlVG9nZ2xlJzsKaW1wb3J0IFN0YWdlRGVzY3JpcHRpb24gZnJvbSAnLi4vLi4vbW9kZWwvU3RhZ2VEZXNjcmlwdGlvbic7CmltcG9ydCBBcGlSZXNvdXJjZSBmcm9tICdAL2NvbXBvbmVudHMvY29yZS9BcGlSZXNvdXJjZSc7Cgp2YXIgQ3JlYXRlQ2FtcGFpZ25EaWFsb2cgPQovKiNfX1BVUkVfXyovCmZ1bmN0aW9uIChfQmFzZVZ1ZSkgewogIF9pbmhlcml0cyhDcmVhdGVDYW1wYWlnbkRpYWxvZywgX0Jhc2VWdWUpOwoKICBmdW5jdGlvbiBDcmVhdGVDYW1wYWlnbkRpYWxvZygpIHsKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ3JlYXRlQ2FtcGFpZ25EaWFsb2cpOwoKICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKENyZWF0ZUNhbXBhaWduRGlhbG9nKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTsKICAgIF90aGlzLnNhdmVDYW1wYWlnbiA9IEFwaVJlc291cmNlLmNyZWF0ZSgpOwogICAgX3RoaXMuY2FtcGFpZ24gPSB7CiAgICAgIG5hbWU6ICcnLAogICAgICBkZXNjcmlwdGlvbjogJycsCiAgICAgIGNhbXBhaWduSW1hZ2VzOiBbXSwKICAgICAgcGFydG5lcklkOiAnJywKICAgICAgc3RhcnREYXRlOiAnJywKICAgICAgZW5kRGF0ZTogJycsCiAgICAgIHN0YWdlRGVzY3JpcHRpb25zOiBbU3RhZ2VEZXNjcmlwdGlvbi5kZWZhdWx0U3RhZ2UoKV0sCiAgICAgIGNhbXBhaWduVHlwZTogJycKICAgIH07CiAgICBfdGhpcy5wYXJ0bmVycyA9IEFwaVJlc291cmNlTGlzdC5jcmVhdGVEZWZhdWx0KCk7CiAgICBfdGhpcy5mb3JtV2l6YXJkID0gbmV3IFdpemFyZFBhZ2VUb2dnbGUoJ0JBU0lDX0RFVEFJTFMnLCAnTU9SRV9ERVRBSUxTJywgJ1NUQUdFUycsICdVUExPQURfSU1BR0VTJywgJ0NPTkZJUk1BVElPTicpOwogICAgcmV0dXJuIF90aGlzOwogIH0KCiAgX2NyZWF0ZUNsYXNzKENyZWF0ZUNhbXBhaWduRGlhbG9nLCBbewogICAga2V5OiAibW91bnRlZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgICAgdGhpcy5sb2FkUGFydG5lcnMoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJsb2FkUGFydG5lcnMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGxvYWRQYXJ0bmVycygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLnBhcnRuZXJzLmxvYWRpbmcgPSB0cnVlOwogICAgICBQYXJ0bmVyU2VydmljZS5nZXRBbGxQYXJ0bmVyc01pbmlmaWVkKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzMi5wYXJ0bmVycy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgX3RoaXMyLnBhcnRuZXJzLmRhdGEgPSByZXNwb25zZS5kYXRhLl9lbWJlZGRlZC5wYXJ0bmVyczsKICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgX3RoaXMyLnBhcnRuZXJzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICBfdGhpczIucGFydG5lcnMuZXJyb3IgPSBVdGlsLmV4dHJhY3RFcnJvcihlcnJvcik7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogImFkZFN0YWdlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRTdGFnZSgpIHsKICAgICAgTG9nLmluZm8oJ0FkZGluZyBOZXcgU3RhZ2UnKTsKICAgICAgdGhpcy5jYW1wYWlnbi5zdGFnZURlc2NyaXB0aW9ucy5wdXNoKFN0YWdlRGVzY3JpcHRpb24uZGVmYXVsdFN0YWdlKFV0aWwudXVpZCgpKSk7CiAgICAgIHRoaXMuJGZvcmNlVXBkYXRlKCk7CiAgICAgIExvZy5pbmZvKCJTdGFnZSBDb3VudDogIi5jb25jYXQodGhpcy5jYW1wYWlnbi5zdGFnZURlc2NyaXB0aW9ucy5sZW5ndGgpKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJkZWxldGVTdGFnZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZGVsZXRlU3RhZ2UoaW5kZXgpIHsKICAgICAgdGhpcy5jYW1wYWlnbi5zdGFnZURlc2NyaXB0aW9ucyA9IHRoaXMuY2FtcGFpZ24uc3RhZ2VEZXNjcmlwdGlvbnMuZmlsdGVyKGZ1bmN0aW9uIChzLCBpKSB7CiAgICAgICAgcmV0dXJuIGkgIT09IGluZGV4OwogICAgICB9KTsKICAgICAgdGhpcy4kZm9yY2VVcGRhdGUoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjYW5EZWxldGVTdGFnZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY2FuRGVsZXRlU3RhZ2UoaW5kZXgpIHsKICAgICAgcmV0dXJuIHRoaXMuY2FtcGFpZ24uc3RhZ2VEZXNjcmlwdGlvbnMubGVuZ3RoID4gMSAmJiBpbmRleCA9PT0gdGhpcy5jYW1wYWlnbi5zdGFnZURlc2NyaXB0aW9ucy5sZW5ndGggLSAxOwogICAgfQogIH0sIHsKICAgIGtleTogImNyZWF0ZUNhbXBhaWduIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVDYW1wYWlnbigpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICBMb2cuaW5mbygiQ2FtcGFpZ24gRGF0YSBQb3N0OiAiLmNvbmNhdChKU09OLnN0cmluZ2lmeSh0aGlzLmNhbXBhaWduKSkpOwogICAgICB2YXIgY2FtcGFpZ25SZXF1ZXN0ID0gdGhpcy5wcmVwYXJlQ2FtcGFpZ25SZXF1ZXN0KCk7CiAgICAgIHRoaXMudmFsaWRhdGVDYW1wYWlnblJlcXVlc3QoY2FtcGFpZ25SZXF1ZXN0KTsKICAgICAgdGhpcy5zYXZlQ2FtcGFpZ24uZXJyb3IgPSAnJzsKICAgICAgdGhpcy5zYXZlQ2FtcGFpZ24ubG9hZGluZyA9IHRydWU7CiAgICAgIENhbXBhaWduU2VydmljZS5zYXZlQ2FtcGFpZ24oY2FtcGFpZ25SZXF1ZXN0LCBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczMuc2F2ZUNhbXBhaWduLmxvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgX3RoaXMzLmNsb3NlKCk7CiAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIF90aGlzMy5zYXZlQ2FtcGFpZ24ubG9hZGluZyA9IGZhbHNlOwogICAgICAgIF90aGlzMy5zYXZlQ2FtcGFpZ24uZXJyb3IgPSBVdGlsLmV4dHJhY3RFcnJvcihlcnJvcik7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogInByZXBhcmVDYW1wYWlnblJlcXVlc3QiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHByZXBhcmVDYW1wYWlnblJlcXVlc3QoKSB7CiAgICAgIHZhciByZXF1ZXN0ID0gdGhpcy5jYW1wYWlnbjsKICAgICAgcmVxdWVzdC5zdGFnZURlc2NyaXB0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChzdGFnZSkgewogICAgICAgIHN0YWdlLmV2YWx1YXRpb25UaW1lID0gc3RhZ2UuZXZhbHVhdGlvblRpbWUucmVwbGFjZSgnVCcsICcgJyk7CiAgICAgIH0pOwogICAgICBMb2cuaW5mbygiQ2FtcGFpZ24gRGF0YSBQb3N0IFJlcXVlc3Q6ICIuY29uY2F0KEpTT04uc3RyaW5naWZ5KHJlcXVlc3QpKSk7CiAgICAgIHJldHVybiByZXF1ZXN0OwogICAgfQogIH0sIHsKICAgIGtleTogInZhbGlkYXRlQ2FtcGFpZ25SZXF1ZXN0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiB2YWxpZGF0ZUNhbXBhaWduUmVxdWVzdChjYW1wYWlnblJlcXVlc3QpIHsvLyBpbXBsZW1lbnQgY2xpZW50LXNpZGUgdmFsaWRhdGlvbiBvZiBjYW1wYWlnbiByZXF1ZXN0CiAgICB9CiAgfSwgewogICAga2V5OiAiY2xvc2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNsb3NlKCkgewogICAgICB0aGlzLiRlbWl0KENvbnN0YW50cy5kaWFsb2dDbG9zZWRFdmVudCk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gQ3JlYXRlQ2FtcGFpZ25EaWFsb2c7Cn0oQmFzZVZ1ZSk7CgpfX2RlY29yYXRlKFtQcm9wKHsKICBkZWZhdWx0OiBmYWxzZQp9KV0sIENyZWF0ZUNhbXBhaWduRGlhbG9nLnByb3RvdHlwZSwgInZpc2libGUiLCB2b2lkIDApOwoKQ3JlYXRlQ2FtcGFpZ25EaWFsb2cgPSBfX2RlY29yYXRlKFtXaXRoUmVuZGVyLCBDb21wb25lbnQoewogIGNvbXBvbmVudHM6IHsKICAgIE1vZGFsOiBNb2RhbAogIH0KfSldLCBDcmVhdGVDYW1wYWlnbkRpYWxvZyk7CmV4cG9ydCBkZWZhdWx0IENyZWF0ZUNhbXBhaWduRGlhbG9nOw=="},{"version":3,"sources":["/Users/dduru/VSCode/OmarzeUI/src/vues/backoffice/vues/campaign/dialog/new-campaign/CreateCampaignDialog.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, Prop } from 'vue-property-decorator';\n\nimport BaseVue from '@/components/BaseVue';\nimport Modal from '@/components/modal/Modal';\n\nimport WithRender from './create-campaign-dialog.html';\nimport { Constants, Util, Log } from '@/components/util';\nimport CampaignService from '../../service/CampaignService';\nimport PartnerService from '../../../partner/service/PartnerService';\nimport ApiResourceList from '@/components/core/ApiResourceList';\nimport WizardPageToggle from '@/components/modal/wizard/WizardPageToggle';\nimport StageDescription from '../../model/StageDescription';\nimport ApiResource from '@/components/core/ApiResource';\n\n\n\n@WithRender\n@Component({\n    components: {\n        Modal,\n    },\n})\nexport default class CreateCampaignDialog extends BaseVue {\n\n\n    @Prop({default: false})\n    private visible!: boolean;\n\n\n    private saveCampaign: ApiResource = ApiResource.create();\n\n\n    private campaign: any = {\n        name: '',\n        description: '',\n        campaignImages: [],\n        partnerId: '',\n        startDate: '',\n        endDate: '',\n        stageDescriptions: [\n            StageDescription.defaultStage()\n        ],\n        campaignType: ''\n    };\n\n\n    private partners: ApiResourceList = ApiResourceList.createDefault();\n\n\n    private formWizard: WizardPageToggle = new WizardPageToggle(\n        'BASIC_DETAILS',\n        'MORE_DETAILS',\n        'STAGES',\n        'UPLOAD_IMAGES',\n        'CONFIRMATION',\n    );\n\n\n    public mounted() {\n        this.loadPartners();\n    }\n\n\n    private loadPartners() {\n        this.partners.loading = true;\n\n        PartnerService.getAllPartnersMinified(\n            (response) => {\n                this.partners.loading = false;\n                this.partners.data = response.data._embedded.partners;\n            },\n\n            (error) => {\n                this.partners.loading = false;\n                this.partners.error = Util.extractError(error);\n            }\n        );\n    }\n\n\n    private addStage() {\n        Log.info('Adding New Stage');\n        this.campaign.stageDescriptions.push(\n            StageDescription.defaultStage(Util.uuid())\n        );\n        this.$forceUpdate();\n\n        Log.info(`Stage Count: ${this.campaign.stageDescriptions.length}`);\n    }\n\n\n    private deleteStage(index: number) {\n        this.campaign.stageDescriptions = this.campaign.stageDescriptions.filter((s: any, i: number) => {\n            return i !== index;\n        });\n        this.$forceUpdate();\n    }\n\n\n    private canDeleteStage(index: number): boolean {\n        return (this.campaign.stageDescriptions.length > 1) && \n            (index === this.campaign.stageDescriptions.length - 1);\n    }\n\n\n    private createCampaign() {\n        Log.info(`Campaign Data Post: ${JSON.stringify(this.campaign)}`);\n        const campaignRequest = this.prepareCampaignRequest();\n        this.validateCampaignRequest(campaignRequest);\n\n        this.saveCampaign.error = '';\n        this.saveCampaign.loading = true;\n\n        CampaignService.saveCampaign(\n            campaignRequest,\n\n            (response) => {\n                this.saveCampaign.loading = false;\n                this.close();\n            },\n\n            (error) => {\n                this.saveCampaign.loading = false;\n                this.saveCampaign.error = Util.extractError(error);\n            }\n        );\n    }\n\n\n    private prepareCampaignRequest(): any {\n        const request = this.campaign;\n\n        request.stageDescriptions.forEach(\n            (stage: StageDescription) => {\n                stage.evaluationTime = stage.evaluationTime.replace('T', ' ');\n            }\n        );\n\n        Log.info(`Campaign Data Post Request: ${JSON.stringify(request)}`);\n\n        return request;\n    }\n\n\n    private validateCampaignRequest(campaignRequest: any) {\n        // implement client-side validation of campaign request\n    }\n\n\n    private close() {\n        this.$emit(Constants.dialogClosedEvent);\n    }\n\n\n}\n\n"],"sourceRoot":""}]}