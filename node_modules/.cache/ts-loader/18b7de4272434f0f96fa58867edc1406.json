{"remainingRequest":"/Users/dduru/VSCode/OmarzeUI/node_modules/babel-loader/lib/index.js!/Users/dduru/VSCode/OmarzeUI/node_modules/ts-loader/index.js??ref--13-2!/Users/dduru/VSCode/OmarzeUI/src/vues/backoffice/vues/campaign/dialog/new-campaign/CreateCampaignDialog.ts","dependencies":[{"path":"/Users/dduru/VSCode/OmarzeUI/src/vues/backoffice/vues/campaign/dialog/new-campaign/CreateCampaignDialog.ts","mtime":1594595412457},{"path":"/Users/dduru/VSCode/OmarzeUI/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dduru/VSCode/OmarzeUI/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/dduru/VSCode/OmarzeUI/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiL1VzZXJzL2RkdXJ1L1ZTQ29kZS9PbWFyemVVSS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIi9Vc2Vycy9kZHVydS9WU0NvZGUvT21hcnplVUkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IF9pbmhlcml0cyBmcm9tICIvVXNlcnMvZGR1cnUvVlNDb2RlL09tYXJ6ZVVJL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pbmhlcml0cyI7CmltcG9ydCBfY3JlYXRlU3VwZXIgZnJvbSAiL1VzZXJzL2RkdXJ1L1ZTQ29kZS9PbWFyemVVSS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlU3VwZXIiOwppbXBvcnQgeyBfX2RlY29yYXRlIH0gZnJvbSAidHNsaWIiOwppbXBvcnQgeyBDb21wb25lbnQsIFByb3AgfSBmcm9tICd2dWUtcHJvcGVydHktZGVjb3JhdG9yJzsKaW1wb3J0IEJhc2VWdWUgZnJvbSAnQC9jb21wb25lbnRzL0Jhc2VWdWUnOwppbXBvcnQgTW9kYWwgZnJvbSAnQC9jb21wb25lbnRzL21vZGFsL01vZGFsJzsKaW1wb3J0IFdpdGhSZW5kZXIgZnJvbSAnLi9jcmVhdGUtY2FtcGFpZ24tZGlhbG9nLmh0bWwnOwppbXBvcnQgeyBDb25zdGFudHMsIFV0aWwsIExvZyB9IGZyb20gJ0AvY29tcG9uZW50cy91dGlsJzsKaW1wb3J0IENhbXBhaWduU2VydmljZSBmcm9tICcuLi8uLi9zZXJ2aWNlL0NhbXBhaWduU2VydmljZSc7CmltcG9ydCBQYXJ0bmVyU2VydmljZSBmcm9tICcuLi8uLi8uLi9wYXJ0bmVyL3NlcnZpY2UvUGFydG5lclNlcnZpY2UnOwppbXBvcnQgQXBpUmVzb3VyY2VMaXN0IGZyb20gJ0AvY29tcG9uZW50cy9jb3JlL0FwaVJlc291cmNlTGlzdCc7CmltcG9ydCBXaXphcmRQYWdlVG9nZ2xlIGZyb20gJ0AvY29tcG9uZW50cy9tb2RhbC93aXphcmQvV2l6YXJkUGFnZVRvZ2dsZSc7CmltcG9ydCBTdGFnZURlc2NyaXB0aW9uIGZyb20gJy4uLy4uL21vZGVsL1N0YWdlRGVzY3JpcHRpb24nOwppbXBvcnQgQXBpUmVzb3VyY2UgZnJvbSAnQC9jb21wb25lbnRzL2NvcmUvQXBpUmVzb3VyY2UnOwoKdmFyIENyZWF0ZUNhbXBhaWduRGlhbG9nID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQmFzZVZ1ZSkgewogIF9pbmhlcml0cyhDcmVhdGVDYW1wYWlnbkRpYWxvZywgX0Jhc2VWdWUpOwoKICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKENyZWF0ZUNhbXBhaWduRGlhbG9nKTsKCiAgZnVuY3Rpb24gQ3JlYXRlQ2FtcGFpZ25EaWFsb2coKSB7CiAgICB2YXIgX3RoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENyZWF0ZUNhbXBhaWduRGlhbG9nKTsKCiAgICBfdGhpcyA9IF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgX3RoaXMuc2F2ZUNhbXBhaWduID0gQXBpUmVzb3VyY2UuY3JlYXRlKCk7CiAgICBfdGhpcy5jYW1wYWlnbiA9IHsKICAgICAgbmFtZTogJycsCiAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgY2FtcGFpZ25JbWFnZXM6IFtdLAogICAgICBwYXJ0bmVySWQ6ICcnLAogICAgICBzdGFydERhdGU6ICcnLAogICAgICBlbmREYXRlOiAnJywKICAgICAgc3RhZ2VEZXNjcmlwdGlvbnM6IFtTdGFnZURlc2NyaXB0aW9uLmRlZmF1bHRTdGFnZSgpXSwKICAgICAgY2FtcGFpZ25UeXBlOiAnJwogICAgfTsKICAgIF90aGlzLnBhcnRuZXJzID0gQXBpUmVzb3VyY2VMaXN0LmNyZWF0ZURlZmF1bHQoKTsKICAgIF90aGlzLmZvcm1XaXphcmQgPSBuZXcgV2l6YXJkUGFnZVRvZ2dsZSgnQkFTSUNfREVUQUlMUycsICdNT1JFX0RFVEFJTFMnLCAnU1RBR0VTJywgJ1VQTE9BRF9JTUFHRVMnLCAnQ09ORklSTUFUSU9OJyk7CiAgICByZXR1cm4gX3RoaXM7CiAgfQoKICBfY3JlYXRlQ2xhc3MoQ3JlYXRlQ2FtcGFpZ25EaWFsb2csIFt7CiAgICBrZXk6ICJtb3VudGVkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgICB0aGlzLmxvYWRQYXJ0bmVycygpOwogICAgfQogIH0sIHsKICAgIGtleTogImxvYWRQYXJ0bmVycyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbG9hZFBhcnRuZXJzKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMucGFydG5lcnMubG9hZGluZyA9IHRydWU7CiAgICAgIFBhcnRuZXJTZXJ2aWNlLmdldEFsbFBhcnRuZXJzTWluaWZpZWQoZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMyLnBhcnRuZXJzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICBfdGhpczIucGFydG5lcnMuZGF0YSA9IHJlc3BvbnNlLmRhdGEuX2VtYmVkZGVkLnBhcnRuZXJzOwogICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBfdGhpczIucGFydG5lcnMubG9hZGluZyA9IGZhbHNlOwogICAgICAgIF90aGlzMi5wYXJ0bmVycy5lcnJvciA9IFV0aWwuZXh0cmFjdEVycm9yKGVycm9yKTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiYWRkU3RhZ2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFkZFN0YWdlKCkgewogICAgICBMb2cuaW5mbygnQWRkaW5nIE5ldyBTdGFnZScpOwogICAgICB0aGlzLmNhbXBhaWduLnN0YWdlRGVzY3JpcHRpb25zLnB1c2goU3RhZ2VEZXNjcmlwdGlvbi5kZWZhdWx0U3RhZ2UoVXRpbC51dWlkKCkpKTsKICAgICAgdGhpcy4kZm9yY2VVcGRhdGUoKTsKICAgICAgTG9nLmluZm8oIlN0YWdlIENvdW50OiAiLmNvbmNhdCh0aGlzLmNhbXBhaWduLnN0YWdlRGVzY3JpcHRpb25zLmxlbmd0aCkpOwogICAgfQogIH0sIHsKICAgIGtleTogImRlbGV0ZVN0YWdlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBkZWxldGVTdGFnZShpbmRleCkgewogICAgICB0aGlzLmNhbXBhaWduLnN0YWdlRGVzY3JpcHRpb25zID0gdGhpcy5jYW1wYWlnbi5zdGFnZURlc2NyaXB0aW9ucy5maWx0ZXIoZnVuY3Rpb24gKHMsIGkpIHsKICAgICAgICByZXR1cm4gaSAhPT0gaW5kZXg7CiAgICAgIH0pOwogICAgICB0aGlzLiRmb3JjZVVwZGF0ZSgpOwogICAgfQogIH0sIHsKICAgIGtleTogImNhbkRlbGV0ZVN0YWdlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjYW5EZWxldGVTdGFnZShpbmRleCkgewogICAgICByZXR1cm4gdGhpcy5jYW1wYWlnbi5zdGFnZURlc2NyaXB0aW9ucy5sZW5ndGggPiAxICYmIGluZGV4ID09PSB0aGlzLmNhbXBhaWduLnN0YWdlRGVzY3JpcHRpb25zLmxlbmd0aCAtIDE7CiAgICB9CiAgfSwgewogICAga2V5OiAiY3JlYXRlQ2FtcGFpZ24iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZUNhbXBhaWduKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIExvZy5pbmZvKCJDYW1wYWlnbiBEYXRhIFBvc3Q6ICIuY29uY2F0KEpTT04uc3RyaW5naWZ5KHRoaXMuY2FtcGFpZ24pKSk7CiAgICAgIHZhciBjYW1wYWlnblJlcXVlc3QgPSB0aGlzLnByZXBhcmVDYW1wYWlnblJlcXVlc3QoKTsKICAgICAgdGhpcy52YWxpZGF0ZUNhbXBhaWduUmVxdWVzdChjYW1wYWlnblJlcXVlc3QpOwogICAgICB0aGlzLnNhdmVDYW1wYWlnbi5lcnJvciA9ICcnOwogICAgICB0aGlzLnNhdmVDYW1wYWlnbi5sb2FkaW5nID0gdHJ1ZTsKICAgICAgQ2FtcGFpZ25TZXJ2aWNlLnNhdmVDYW1wYWlnbihjYW1wYWlnblJlcXVlc3QsIGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzMy5zYXZlQ2FtcGFpZ24ubG9hZGluZyA9IGZhbHNlOwoKICAgICAgICBfdGhpczMuY2xvc2UoKTsKICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgX3RoaXMzLnNhdmVDYW1wYWlnbi5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgX3RoaXMzLnNhdmVDYW1wYWlnbi5lcnJvciA9IFV0aWwuZXh0cmFjdEVycm9yKGVycm9yKTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAicHJlcGFyZUNhbXBhaWduUmVxdWVzdCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcHJlcGFyZUNhbXBhaWduUmVxdWVzdCgpIHsKICAgICAgdmFyIHJlcXVlc3QgPSB0aGlzLmNhbXBhaWduOwogICAgICByZXF1ZXN0LnN0YWdlRGVzY3JpcHRpb25zLmZvckVhY2goZnVuY3Rpb24gKHN0YWdlKSB7CiAgICAgICAgc3RhZ2UuZXZhbHVhdGlvblRpbWUgPSBzdGFnZS5ldmFsdWF0aW9uVGltZS5yZXBsYWNlKCdUJywgJyAnKTsKICAgICAgfSk7CiAgICAgIExvZy5pbmZvKCJDYW1wYWlnbiBEYXRhIFBvc3QgUmVxdWVzdDogIi5jb25jYXQoSlNPTi5zdHJpbmdpZnkocmVxdWVzdCkpKTsKICAgICAgcmV0dXJuIHJlcXVlc3Q7CiAgICB9CiAgfSwgewogICAga2V5OiAidmFsaWRhdGVDYW1wYWlnblJlcXVlc3QiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHZhbGlkYXRlQ2FtcGFpZ25SZXF1ZXN0KGNhbXBhaWduUmVxdWVzdCkgey8vIGltcGxlbWVudCBjbGllbnQtc2lkZSB2YWxpZGF0aW9uIG9mIGNhbXBhaWduIHJlcXVlc3QKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjbG9zZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY2xvc2UoKSB7CiAgICAgIHRoaXMuJGVtaXQoQ29uc3RhbnRzLmRpYWxvZ0Nsb3NlZEV2ZW50KTsKICAgIH0KICB9XSk7CgogIHJldHVybiBDcmVhdGVDYW1wYWlnbkRpYWxvZzsKfShCYXNlVnVlKTsKCl9fZGVjb3JhdGUoW1Byb3AoewogIGRlZmF1bHQ6IGZhbHNlCn0pXSwgQ3JlYXRlQ2FtcGFpZ25EaWFsb2cucHJvdG90eXBlLCAidmlzaWJsZSIsIHZvaWQgMCk7CgpDcmVhdGVDYW1wYWlnbkRpYWxvZyA9IF9fZGVjb3JhdGUoW1dpdGhSZW5kZXIsIENvbXBvbmVudCh7CiAgY29tcG9uZW50czogewogICAgTW9kYWw6IE1vZGFsCiAgfQp9KV0sIENyZWF0ZUNhbXBhaWduRGlhbG9nKTsKZXhwb3J0IGRlZmF1bHQgQ3JlYXRlQ2FtcGFpZ25EaWFsb2c7"},{"version":3,"sources":["/Users/dduru/VSCode/OmarzeUI/src/vues/backoffice/vues/campaign/dialog/new-campaign/CreateCampaignDialog.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, Prop } from 'vue-property-decorator';\n\nimport BaseVue from '@/components/BaseVue';\nimport Modal from '@/components/modal/Modal';\n\nimport WithRender from './create-campaign-dialog.html';\nimport { Constants, Util, Log } from '@/components/util';\nimport CampaignService from '../../service/CampaignService';\nimport PartnerService from '../../../partner/service/PartnerService';\nimport ApiResourceList from '@/components/core/ApiResourceList';\nimport WizardPageToggle from '@/components/modal/wizard/WizardPageToggle';\nimport StageDescription from '../../model/StageDescription';\nimport ApiResource from '@/components/core/ApiResource';\n\n\n\n@WithRender\n@Component({\n    components: {\n        Modal,\n    },\n})\nexport default class CreateCampaignDialog extends BaseVue {\n\n\n    @Prop({default: false})\n    private visible!: boolean;\n\n\n    private saveCampaign: ApiResource = ApiResource.create();\n\n\n    private campaign: any = {\n        name: '',\n        description: '',\n        campaignImages: [],\n        partnerId: '',\n        startDate: '',\n        endDate: '',\n        stageDescriptions: [\n            StageDescription.defaultStage()\n        ],\n        campaignType: ''\n    };\n\n\n    private partners: ApiResourceList = ApiResourceList.createDefault();\n\n\n    private formWizard: WizardPageToggle = new WizardPageToggle(\n        'BASIC_DETAILS',\n        'MORE_DETAILS',\n        'STAGES',\n        'UPLOAD_IMAGES',\n        'CONFIRMATION',\n    );\n\n\n    public mounted() {\n        this.loadPartners();\n    }\n\n\n    private loadPartners() {\n        this.partners.loading = true;\n\n        PartnerService.getAllPartnersMinified(\n            (response) => {\n                this.partners.loading = false;\n                this.partners.data = response.data._embedded.partners;\n            },\n\n            (error) => {\n                this.partners.loading = false;\n                this.partners.error = Util.extractError(error);\n            }\n        );\n    }\n\n\n    private addStage() {\n        Log.info('Adding New Stage');\n        this.campaign.stageDescriptions.push(\n            StageDescription.defaultStage(Util.uuid())\n        );\n        this.$forceUpdate();\n\n        Log.info(`Stage Count: ${this.campaign.stageDescriptions.length}`);\n    }\n\n\n    private deleteStage(index: number) {\n        this.campaign.stageDescriptions = this.campaign.stageDescriptions.filter((s: any, i: number) => {\n            return i !== index;\n        });\n        this.$forceUpdate();\n    }\n\n\n    private canDeleteStage(index: number): boolean {\n        return (this.campaign.stageDescriptions.length > 1) && \n            (index === this.campaign.stageDescriptions.length - 1);\n    }\n\n\n    private createCampaign() {\n        Log.info(`Campaign Data Post: ${JSON.stringify(this.campaign)}`);\n        const campaignRequest = this.prepareCampaignRequest();\n        this.validateCampaignRequest(campaignRequest);\n\n        this.saveCampaign.error = '';\n        this.saveCampaign.loading = true;\n\n        CampaignService.saveCampaign(\n            campaignRequest,\n\n            (response) => {\n                this.saveCampaign.loading = false;\n                this.close();\n            },\n\n            (error) => {\n                this.saveCampaign.loading = false;\n                this.saveCampaign.error = Util.extractError(error);\n            }\n        );\n    }\n\n\n    private prepareCampaignRequest(): any {\n        const request = this.campaign;\n\n        request.stageDescriptions.forEach(\n            (stage: StageDescription) => {\n                stage.evaluationTime = stage.evaluationTime.replace('T', ' ');\n            }\n        );\n\n        Log.info(`Campaign Data Post Request: ${JSON.stringify(request)}`);\n\n        return request;\n    }\n\n\n    private validateCampaignRequest(campaignRequest: any) {\n        // implement client-side validation of campaign request\n    }\n\n\n    private close() {\n        this.$emit(Constants.dialogClosedEvent);\n    }\n\n\n}\n\n"],"sourceRoot":""}]}