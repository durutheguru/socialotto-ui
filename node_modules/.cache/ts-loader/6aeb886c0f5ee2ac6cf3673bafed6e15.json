{"remainingRequest":"/Users/dduru/VSCode/OmarzeUI/node_modules/babel-loader/lib/index.js!/Users/dduru/VSCode/OmarzeUI/node_modules/ts-loader/index.js??ref--13-2!/Users/dduru/VSCode/OmarzeUI/src/components/util/Web.ts","dependencies":[{"path":"/Users/dduru/VSCode/OmarzeUI/src/components/util/Web.ts","mtime":1596482514419},{"path":"/Users/dduru/VSCode/OmarzeUI/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dduru/VSCode/OmarzeUI/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/dduru/VSCode/OmarzeUI/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3RhcnRzLXdpdGgiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIi9Vc2Vycy9kZHVydS9WU0NvZGUvT21hcnplVUkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICIvVXNlcnMvZGR1cnUvVlNDb2RlL09tYXJ6ZVVJL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBzdG9yZSBmcm9tICcuLi8uLi9zdG9yZSc7CmltcG9ydCB7IENvbnN0YW50cywgTG9nIH0gZnJvbSAnLic7CmF4aW9zLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShmdW5jdGlvbiAoY29uZmlnKSB7CiAgdmFyIF9jb25maWckdXJsOwoKICB2YXIgbWF0Y2hpbmdFeGNsdWRlUGF0aHMgPSBDb25zdGFudHMuYXV0aEV4Y2x1ZGVBcGlQYXRocy5maWx0ZXIoZnVuY3Rpb24gKHZhbHVlLCBpbmRleCkgewogICAgY29uZmlnLnVybCA9IGNvbmZpZy51cmwgfHwgJyc7CiAgICByZXR1cm4gY29uZmlnLnVybC5pbmRleE9mKHZhbHVlKSA+IC0xOwogIH0pOwoKICBpZiAobWF0Y2hpbmdFeGNsdWRlUGF0aHMubGVuZ3RoID09PSAwICYmICgoX2NvbmZpZyR1cmwgPSBjb25maWcudXJsKSA9PT0gbnVsbCB8fCBfY29uZmlnJHVybCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2NvbmZpZyR1cmwuc3RhcnRzV2l0aChwcm9jZXNzLmVudi5WVUVfQVBQX0JBU0VfVVJMKSkpIHsKICAgIGNvbmZpZy5oZWFkZXJzLkF1dGhvcml6YXRpb24gPSBzdG9yZS5nZXR0ZXJzWydhdXRoVG9rZW4vYXBpVG9rZW4nXTsKICB9CgogIHJldHVybiBjb25maWc7Cn0pOwoKZnVuY3Rpb24gaXNTU0VDYWxsYmFjayhvYmopIHsKICByZXR1cm4gISFvYmo7Cn0KCnZhciBXZWIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIFdlYigpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBXZWIpOwogIH0KCiAgX2NyZWF0ZUNsYXNzKFdlYiwgbnVsbCwgW3sKICAgIGtleTogImdldCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0KHVybCwgc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrKSB7CiAgICAgIFdlYi5nZXRBYnNvbHV0ZShXZWIuQkFTRV9VUkwgKyB1cmwsIHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjayk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0QWJzb2x1dGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldEFic29sdXRlKHVybCwgc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrKSB7CiAgICAgIGF4aW9zLmdldCh1cmwpLnRoZW4oc3VjY2Vzc0NhbGxiYWNrKS5jYXRjaChlcnJvckNhbGxiYWNrKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJwb3N0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBwb3N0KHVybCwgZGF0YSwgc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrKSB7CiAgICAgIFdlYi5wb3N0QWJzb2x1dGUoV2ViLkJBU0VfVVJMICsgdXJsLCBkYXRhLCBzdWNjZXNzQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2spOwogICAgfQogIH0sIHsKICAgIGtleTogInBvc3RBYnNvbHV0ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcG9zdEFic29sdXRlKHVybCwgZGF0YSwgc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrKSB7CiAgICAgIGF4aW9zLnBvc3QodXJsLCBkYXRhKS50aGVuKHN1Y2Nlc3NDYWxsYmFjaykuY2F0Y2goZXJyb3JDYWxsYmFjayk7CiAgICB9CiAgfSwgewogICAga2V5OiAibmF2aWdhdGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG5hdmlnYXRlKHVybCkgewogICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHVybDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzc2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNzZSh1cmwsIGV2ZW50SGFuZGxlck9iamVjdCwgbWVzc2FnZUNhbGxiYWNrKSB7CiAgICAgIHZhciBldmVudFNvdXJjZSA9IG5ldyBFdmVudFNvdXJjZShXZWIuQkFTRV9VUkwgKyB1cmwpOwoKICAgICAgZm9yICh2YXIgaGFuZGxlciBpbiBldmVudEhhbmRsZXJPYmplY3QpIHsKICAgICAgICBpZiAoaXNTU0VDYWxsYmFjayhldmVudEhhbmRsZXJPYmplY3RbaGFuZGxlcl0pKSB7CiAgICAgICAgICBMb2cuaW5mbygiSGFuZGxlciAiLmNvbmNhdChoYW5kbGVyLCAiIGlzIFNTRSBDYWxsYmFjayIpKTsKICAgICAgICAgIGV2ZW50U291cmNlLmFkZEV2ZW50TGlzdGVuZXIoaGFuZGxlciwgZXZlbnRIYW5kbGVyT2JqZWN0W2hhbmRsZXJdKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgTG9nLmluZm8oIkhhbmRsZXIgIi5jb25jYXQoaGFuZGxlciwgIiBub3QgU1NFIENhbGxiYWNrIikpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKG1lc3NhZ2VDYWxsYmFjaykgewogICAgICAgIGV2ZW50U291cmNlLm9ubWVzc2FnZSA9IG1lc3NhZ2VDYWxsYmFjazsKICAgICAgfQoKICAgICAgcmV0dXJuIGV2ZW50U291cmNlOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIFdlYjsKfSgpOwoKZXhwb3J0IHsgV2ViIGFzIGRlZmF1bHQgfTsKV2ViLkJBU0VfVVJMID0gcHJvY2Vzcy5lbnYuVlVFX0FQUF9CQVNFX1VSTDs="},{"version":3,"sources":["/Users/dduru/VSCode/OmarzeUI/src/components/util/Web.ts"],"names":[],"mappings":";;;;;AAAA,OAAO,KAAP,MAA0C,OAA1C;AACA,OAAO,KAAP,MAAkB,aAAlB;AACA,SAAS,SAAT,EAAoB,GAApB,QAA+B,GAA/B;AAGA,KAAK,CAAC,YAAN,CAAmB,OAAnB,CAA2B,GAA3B,CACI,UAAC,MAAD,EAAoC;AAAA;;AAChC,MAAM,oBAAoB,GAAG,SAAS,CAAC,mBAAV,CAA8B,MAA9B,CAAqC,UAAC,KAAD,EAAgB,KAAhB,EAAiC;AAC/F,IAAA,MAAM,CAAC,GAAP,GAAa,MAAM,CAAC,GAAP,IAAc,EAA3B;AACA,WAAO,MAAM,CAAC,GAAP,CAAW,OAAX,CAAmB,KAAnB,IAA4B,CAAC,CAApC;AACH,GAH4B,CAA7B;;AAKA,MAAI,oBAAoB,CAAC,MAArB,KAAgC,CAAhC,oBAAqC,MAAM,CAAC,GAA5C,gDAAqC,YAAY,UAAZ,CAAuB,OAAO,CAAC,GAAR,CAAY,gBAAnC,CAArC,CAAJ,EAA+F;AAC3F,IAAA,MAAM,CAAC,OAAP,CAAe,aAAf,GAA+B,KAAK,CAAC,OAAN,CAAc,oBAAd,CAA/B;AACH;;AAED,SAAO,MAAP;AACH,CAZL;;AAqBA,SAAS,aAAT,CAAuB,GAAvB,EAAuC;AACnC,SAAO,CAAC,CAAE,GAAV;AACH;;IAGoB,G;;;;;;;wBAOb,G,EAAa,e,EAAqC,a,EAAgC;AAElF,MAAA,GAAG,CAAC,WAAJ,CAAgB,GAAG,CAAC,QAAJ,GAAe,GAA/B,EAAoC,eAApC,EAAqD,aAArD;AACH;;;gCAIG,G,EAAa,e,EAAqC,a,EAAgC;AAElF,MAAA,KAAK,CAAC,GAAN,CAAU,GAAV,EACC,IADD,CACM,eADN,EAEC,KAFD,CAEO,aAFP;AAGH;;;yBAIG,G,EAAa,I,EAAW,e,EAAqC,a,EAAgC;AAE7F,MAAA,GAAG,CAAC,YAAJ,CAAiB,GAAG,CAAC,QAAJ,GAAe,GAAhC,EAAqC,IAArC,EAA2C,eAA3C,EAA4D,aAA5D;AACH;;;iCAIG,G,EAAa,I,EAAW,e,EAAqC,a,EAAgC;AAE7F,MAAA,KAAK,CAAC,IAAN,CAAW,GAAX,EAAgB,IAAhB,EACC,IADD,CACM,eADN,EAEC,KAFD,CAEO,aAFP;AAGH;;;6BAGsB,G,EAAW;AAC9B,MAAA,MAAM,CAAC,QAAP,CAAgB,IAAhB,GAAuB,GAAvB;AACH;;;wBAIG,G,EAAa,kB,EAAyB,e,EAAmC;AACzE,UAAM,WAAW,GAAG,IAAI,WAAJ,CAAgB,GAAG,CAAC,QAAJ,GAAe,GAA/B,CAApB;;AAEA,WAAK,IAAM,OAAX,IAAsB,kBAAtB,EAA0C;AACtC,YAAI,aAAa,CAAC,kBAAkB,CAAC,OAAD,CAAnB,CAAjB,EAAgD;AAC5C,UAAA,GAAG,CAAC,IAAJ,mBAAoB,OAApB;AAEA,UAAA,WAAW,CAAC,gBAAZ,CACI,OADJ,EACa,kBAAkB,CAAC,OAAD,CAD/B;AAGH,SAND,MAMO;AACH,UAAA,GAAG,CAAC,IAAJ,mBAAoB,OAApB;AACH;AACJ;;AAED,UAAI,eAAJ,EAAqB;AACjB,QAAA,WAAW,CAAC,SAAZ,GAAwB,eAAxB;AACH;;AAED,aAAO,WAAP;AACH;;;;;;SAhEgB,G;AAGH,GAAA,CAAA,QAAA,GAAmB,OAAO,CAAC,GAAR,CAAY,gBAA/B","sourcesContent":["import axios, { AxiosRequestConfig } from 'axios';\nimport store from '../../store';\nimport { Constants, Log } from '.';\n\n\naxios.interceptors.request.use(\n    (config: AxiosRequestConfig): any => {\n        const matchingExcludePaths = Constants.authExcludeApiPaths.filter((value: string, index: number) => {\n            config.url = config.url || '';\n            return config.url.indexOf(value) > -1;\n        });\n\n        if (matchingExcludePaths.length === 0 && config.url?.startsWith(process.env.VUE_APP_BASE_URL)) {\n            config.headers.Authorization = store.getters['authToken/apiToken'];\n        }\n\n        return config;\n    },\n);\n\n\nexport type APISuccessCallback = (response: any) => any;\nexport type APIErrorCallback = (error: any) => any;\nexport type SSECallback = (event: any) => void;\n\n\nfunction isSSECallback(obj: SSECallback): obj is SSECallback {\n    return !!(obj as SSECallback);\n}\n\n\nexport default class Web {\n\n\n    public static BASE_URL: string = process.env.VUE_APP_BASE_URL;\n\n\n    public static get(\n        url: string, successCallback: APISuccessCallback, errorCallback?: APIErrorCallback,\n    ) {\n        Web.getAbsolute(Web.BASE_URL + url, successCallback, errorCallback);\n    }\n\n\n    public static getAbsolute(\n        url: string, successCallback: APISuccessCallback, errorCallback?: APIErrorCallback,\n    ) {\n        axios.get(url)\n        .then(successCallback)\n        .catch(errorCallback);\n    }\n\n\n    public static post(\n        url: string, data: any, successCallback: APISuccessCallback, errorCallback?: APIErrorCallback,\n    ) {\n        Web.postAbsolute(Web.BASE_URL + url, data, successCallback, errorCallback);\n    }\n\n\n    public static postAbsolute(\n        url: string, data: any, successCallback: APISuccessCallback, errorCallback?: APIErrorCallback,\n    ) {\n        axios.post(url, data)\n        .then(successCallback)\n        .catch(errorCallback);\n    }\n\n\n    public static navigate(url: string) {\n        window.location.href = url;\n    }\n\n\n    public static sse(\n        url: string, eventHandlerObject: any, messageCallback: SSECallback | null): EventSource {\n        const eventSource = new EventSource(Web.BASE_URL + url);\n\n        for (const handler in eventHandlerObject) {\n            if (isSSECallback(eventHandlerObject[handler])) {\n                Log.info(`Handler ${handler} is SSE Callback`);\n\n                eventSource.addEventListener(\n                    handler, eventHandlerObject[handler]\n                );\n            } else {\n                Log.info(`Handler ${handler} not SSE Callback`);\n            }\n        }\n\n        if (messageCallback) {\n            eventSource.onmessage = messageCallback;\n        }\n\n        return eventSource;\n    }\n\n\n}\n"],"sourceRoot":""}]}