{"remainingRequest":"/Users/dduru/VSCode/OmarzeUI/node_modules/babel-loader/lib/index.js!/Users/dduru/VSCode/OmarzeUI/node_modules/ts-loader/index.js??ref--13-2!/Users/dduru/VSCode/OmarzeUI/src/vues/backoffice/vues/users/backoffice-users/dialog/new-user/CreateBackOfficeUserDialog.ts","dependencies":[{"path":"/Users/dduru/VSCode/OmarzeUI/src/vues/backoffice/vues/users/backoffice-users/dialog/new-user/CreateBackOfficeUserDialog.ts","mtime":1590279510666},{"path":"/Users/dduru/VSCode/OmarzeUI/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dduru/VSCode/OmarzeUI/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/dduru/VSCode/OmarzeUI/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMvZGR1cnUvVlNDb2RlL09tYXJ6ZVVJL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL1VzZXJzL2RkdXJ1L1ZTQ29kZS9PbWFyemVVSS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAiL1VzZXJzL2RkdXJ1L1ZTQ29kZS9PbWFyemVVSS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiI7CmltcG9ydCBfZ2V0UHJvdG90eXBlT2YgZnJvbSAiL1VzZXJzL2RkdXJ1L1ZTQ29kZS9PbWFyemVVSS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZ2V0UHJvdG90eXBlT2YiOwppbXBvcnQgX2luaGVyaXRzIGZyb20gIi9Vc2Vycy9kZHVydS9WU0NvZGUvT21hcnplVUkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzIjsKaW1wb3J0IHsgX19kZWNvcmF0ZSB9IGZyb20gInRzbGliIjsKaW1wb3J0IFdpdGhSZW5kZXIgZnJvbSAnLi9jcmVhdGUtYmFjay1vZmZpY2UtdXNlci1kaWFsb2cuaHRtbCc7CmltcG9ydCB7IENvbXBvbmVudCwgUHJvcCB9IGZyb20gJ3Z1ZS1wcm9wZXJ0eS1kZWNvcmF0b3InOwppbXBvcnQgTW9kYWwgZnJvbSAnQC9jb21wb25lbnRzL21vZGFsL01vZGFsJzsKaW1wb3J0IEJhc2VWdWUgZnJvbSAnQC9jb21wb25lbnRzL0Jhc2VWdWUnOwppbXBvcnQgeyBMb2csIENvbnN0YW50cyB9IGZyb20gJ0AvY29tcG9uZW50cy91dGlsJzsKaW1wb3J0IEJhY2tPZmZpY2VVc2VyU2VydmljZSBmcm9tICdAL3Z1ZXMvYmFja29mZmljZS92dWVzL3VzZXJzL2JhY2tvZmZpY2UtdXNlcnMvc2VydmljZS9CYWNrT2ZmaWNlVXNlclNlcnZpY2UnOwoKdmFyIENyZWF0ZUJhY2tPZmZpY2VVc2VyRGlhbG9nID0KLyojX19QVVJFX18qLwpmdW5jdGlvbiAoX0Jhc2VWdWUpIHsKICBfaW5oZXJpdHMoQ3JlYXRlQmFja09mZmljZVVzZXJEaWFsb2csIF9CYXNlVnVlKTsKCiAgZnVuY3Rpb24gQ3JlYXRlQmFja09mZmljZVVzZXJEaWFsb2coKSB7CiAgICB2YXIgX3RoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENyZWF0ZUJhY2tPZmZpY2VVc2VyRGlhbG9nKTsKCiAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9nZXRQcm90b3R5cGVPZihDcmVhdGVCYWNrT2ZmaWNlVXNlckRpYWxvZykuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7CiAgICBfdGhpcy5lcnJvciA9ICcnOwogICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOwogICAgcmV0dXJuIF90aGlzOwogIH0KCiAgX2NyZWF0ZUNsYXNzKENyZWF0ZUJhY2tPZmZpY2VVc2VyRGlhbG9nLCBbewogICAga2V5OiAibW91bnRlZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgICAgdGhpcy51c2VyID0gewogICAgICAgIG5hbWU6ICcnLAogICAgICAgIGVtYWlsOiAnJywKICAgICAgICB1c2VybmFtZTogJycsCiAgICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICAgIGNvbmZpcm1QYXNzd29yZDogJycKICAgICAgfTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjcmVhdGVVc2VyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVVc2VyKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuZXJyb3IgPSAnJzsKCiAgICAgIGlmICghdGhpcy52YWxpZFVzZXJNb2RlbCgpKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICBCYWNrT2ZmaWNlVXNlclNlcnZpY2UuY3JlYXRlQmFja09mZmljZVVzZXIodGhpcy51c2VyLCBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczIuY2xvc2UoKTsKICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgTG9nLmVycm9yKCdFcnJvciBvY2N1cnJlZDogJyArIEpTT04uc3RyaW5naWZ5KGVycm9yKSk7CiAgICAgICAgX3RoaXMyLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICBfdGhpczIuZXJyb3IgPSBfdGhpczIuZXh0cmFjdEVycm9yKGVycm9yKTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAidmFsaWRVc2VyTW9kZWwiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHZhbGlkVXNlck1vZGVsKCkgewogICAgICBpZiAodGhpcy51c2VyLnBhc3N3b3JkICE9PSB0aGlzLnVzZXIuY29uZmlybVBhc3N3b3JkKSB7CiAgICAgICAgdGhpcy5lcnJvciA9ICdQbGVhc2UgY29uZmlybSBwYXNzd29yZCc7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjbG9zZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY2xvc2UoKSB7CiAgICAgIHRoaXMuJGVtaXQoQ29uc3RhbnRzLmRpYWxvZ0Nsb3NlZEV2ZW50KTsKICAgIH0KICB9XSk7CgogIHJldHVybiBDcmVhdGVCYWNrT2ZmaWNlVXNlckRpYWxvZzsKfShCYXNlVnVlKTsKCl9fZGVjb3JhdGUoW1Byb3AoewogIGRlZmF1bHQ6IGZhbHNlCn0pXSwgQ3JlYXRlQmFja09mZmljZVVzZXJEaWFsb2cucHJvdG90eXBlLCAidmlzaWJsZSIsIHZvaWQgMCk7CgpDcmVhdGVCYWNrT2ZmaWNlVXNlckRpYWxvZyA9IF9fZGVjb3JhdGUoW1dpdGhSZW5kZXIsIENvbXBvbmVudCh7CiAgY29tcG9uZW50czogewogICAgTW9kYWw6IE1vZGFsCiAgfQp9KV0sIENyZWF0ZUJhY2tPZmZpY2VVc2VyRGlhbG9nKTsKZXhwb3J0IGRlZmF1bHQgQ3JlYXRlQmFja09mZmljZVVzZXJEaWFsb2c7"},{"version":3,"sources":["/Users/dduru/VSCode/OmarzeUI/src/vues/backoffice/vues/users/backoffice-users/dialog/new-user/CreateBackOfficeUserDialog.ts"],"names":[],"mappings":";;;;;;AACA,OAAO,UAAP,MAAuB,uCAAvB;AACA,SAAS,SAAT,EAAoB,IAApB,QAAgC,wBAAhC;AAEA,OAAO,KAAP,MAAkB,0BAAlB;AACA,OAAO,OAAP,MAAoB,sBAApB;AACA,SAAS,GAAT,EAAc,SAAd,QAA+B,mBAA/B;AACA,OAAO,qBAAP,MAAkC,6EAAlC;;AAUA,IAAqB,0BAArB;AAAA;AAAA;AAAA;;AAAA,wCAAA;AAAA;;AAAA;;;AAOY,UAAA,KAAA,GAAgB,EAAhB;AAGA,UAAA,OAAA,GAAmB,KAAnB;AAVZ;AAmEC;;AAnED;AAAA;AAAA,8BAgBkB;AACV,WAAK,IAAL,GAAY;AACR,QAAA,IAAI,EAAE,EADE;AAER,QAAA,KAAK,EAAE,EAFC;AAGR,QAAA,QAAQ,EAAE,EAHF;AAIR,QAAA,QAAQ,EAAE,EAJF;AAKR,QAAA,eAAe,EAAE;AALT,OAAZ;AAOH;AAxBL;AAAA;AAAA,iCA2BqB;AAAA;;AACb,WAAK,KAAL,GAAa,EAAb;;AAEA,UAAI,CAAC,KAAK,cAAL,EAAL,EAA4B;AACxB;AACH;;AAED,WAAK,OAAL,GAAe,IAAf;AAEA,MAAA,qBAAqB,CAAC,oBAAtB,CACI,KAAK,IADT,EAGI,UAAC,QAAD,EAAkB;AACd,QAAA,MAAI,CAAC,KAAL;AACH,OALL,EAOI,UAAC,KAAD,EAAe;AACX,QAAA,GAAG,CAAC,KAAJ,CAAU,qBAAqB,IAAI,CAAC,SAAL,CAAe,KAAf,CAA/B;AACA,QAAA,MAAI,CAAC,OAAL,GAAe,KAAf;AACA,QAAA,MAAI,CAAC,KAAL,GAAa,MAAI,CAAC,YAAL,CAAkB,KAAlB,CAAb;AACH,OAXL;AAaH;AAjDL;AAAA;AAAA,qCAoDyB;AACjB,UAAI,KAAK,IAAL,CAAU,QAAV,KAAuB,KAAK,IAAL,CAAU,eAArC,EAAsD;AAClD,aAAK,KAAL,GAAa,yBAAb;AACA,eAAO,KAAP;AACH;;AAED,aAAO,IAAP;AACH;AA3DL;AAAA;AAAA,4BA8DgB;AACR,WAAK,KAAL,CAAW,SAAS,CAAC,iBAArB;AACH;AAhEL;;AAAA;AAAA,EAAwD,OAAxD,CAAA;;AAII,UAAA,CAAA,CADC,IAAI,CAAC;AAAC,EAAA,OAAO,EAAE;AAAV,CAAD,CACL,CAAA,E,oCAAA,E,SAAA,E,KAA0B,CAA1B,CAAA;;AAJiB,0BAA0B,GAAA,UAAA,CAAA,CAN9C,UAM8C,EAL9C,SAAS,CAAC;AACP,EAAA,UAAU,EAAE;AACR,IAAA,KAAK,EAAL;AADQ;AADL,CAAD,CAKqC,CAAA,EAA1B,0BAA0B,CAA1B;eAAA,0B","sourcesContent":["\nimport WithRender from './create-back-office-user-dialog.html';\nimport { Component, Prop } from 'vue-property-decorator';\n\nimport Modal from '@/components/modal/Modal';\nimport BaseVue from '@/components/BaseVue';\nimport { Log, Constants } from '@/components/util';\nimport BackOfficeUserService from '@/vues/backoffice/vues/users/backoffice-users/service/BackOfficeUserService';\n\n\n\n@WithRender\n@Component({\n    components: {\n        Modal,\n    },\n})\nexport default class CreateBackOfficeUserDialog extends BaseVue {\n\n\n    @Prop({default: false})\n    private visible!: boolean;\n\n\n    private error: string = '';\n\n\n    private loading: boolean = false;\n\n\n    private user!: any;\n\n\n    public mounted() {\n        this.user = {\n            name: '',\n            email: '',\n            username: '',\n            password: '',\n            confirmPassword: '',\n        };\n    }\n\n\n    public createUser() {\n        this.error = '';\n\n        if (!this.validUserModel()) {\n            return;\n        }\n\n        this.loading = true;\n\n        BackOfficeUserService.createBackOfficeUser(\n            this.user,\n\n            (response: any) => {\n                this.close();\n            },\n\n            (error: any) => {\n                Log.error('Error occurred: ' + JSON.stringify(error));\n                this.loading = false;\n                this.error = this.extractError(error);\n            }\n        );\n    }\n\n\n    public validUserModel() {\n        if (this.user.password !== this.user.confirmPassword) {\n            this.error = 'Please confirm password';\n            return false;\n        }\n\n        return true;\n    }\n\n\n    public close() {\n        this.$emit(Constants.dialogClosedEvent);\n    }\n\n\n}\n\n"],"sourceRoot":""}]}