{"remainingRequest":"/Users/dduru/VSCode/OmarzeUI/node_modules/babel-loader/lib/index.js!/Users/dduru/VSCode/OmarzeUI/node_modules/ts-loader/index.js??ref--13-2!/Users/dduru/VSCode/OmarzeUI/src/vues/backoffice/vues/campaign/modules/approvals/dialog/TreatCampaignDialog.ts","dependencies":[{"path":"/Users/dduru/VSCode/OmarzeUI/src/vues/backoffice/vues/campaign/modules/approvals/dialog/TreatCampaignDialog.ts","mtime":1594857478402},{"path":"/Users/dduru/VSCode/OmarzeUI/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dduru/VSCode/OmarzeUI/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/dduru/VSCode/OmarzeUI/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMvZGR1cnUvVlNDb2RlL09tYXJ6ZVVJL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL1VzZXJzL2RkdXJ1L1ZTQ29kZS9PbWFyemVVSS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAiL1VzZXJzL2RkdXJ1L1ZTQ29kZS9PbWFyemVVSS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiI7CmltcG9ydCBfZ2V0UHJvdG90eXBlT2YgZnJvbSAiL1VzZXJzL2RkdXJ1L1ZTQ29kZS9PbWFyemVVSS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZ2V0UHJvdG90eXBlT2YiOwppbXBvcnQgX2luaGVyaXRzIGZyb20gIi9Vc2Vycy9kZHVydS9WU0NvZGUvT21hcnplVUkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzIjsKaW1wb3J0IHsgX19kZWNvcmF0ZSB9IGZyb20gInRzbGliIjsKaW1wb3J0IFdpdGhSZW5kZXIgZnJvbSAnLi90cmVhdC1jYW1wYWlnbi1kaWFsb2cuaHRtbCc7CmltcG9ydCB7IENvbXBvbmVudCwgUHJvcCB9IGZyb20gJ3Z1ZS1wcm9wZXJ0eS1kZWNvcmF0b3InOwppbXBvcnQgTW9kYWwgZnJvbSAnQC9jb21wb25lbnRzL21vZGFsL01vZGFsJzsKaW1wb3J0IEJhc2VWdWUgZnJvbSAnQC9jb21wb25lbnRzL0Jhc2VWdWUnOwppbXBvcnQgeyBDb25zdGFudHMsIExvZywgVXRpbCB9IGZyb20gJ0AvY29tcG9uZW50cy91dGlsJzsKaW1wb3J0IENhbXBhaWduU2VydmljZSBmcm9tICcuLi8uLi8uLi9zZXJ2aWNlL0NhbXBhaWduU2VydmljZSc7Cgp2YXIgVHJlYXRDYW1wYWlnbkRpYWxvZyA9Ci8qI19fUFVSRV9fKi8KZnVuY3Rpb24gKF9CYXNlVnVlKSB7CiAgX2luaGVyaXRzKFRyZWF0Q2FtcGFpZ25EaWFsb2csIF9CYXNlVnVlKTsKCiAgZnVuY3Rpb24gVHJlYXRDYW1wYWlnbkRpYWxvZygpIHsKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVHJlYXRDYW1wYWlnbkRpYWxvZyk7CgogICAgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfZ2V0UHJvdG90eXBlT2YoVHJlYXRDYW1wYWlnbkRpYWxvZykuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7CiAgICBfdGhpcy5lcnJvciA9ICcnOwogICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOwogICAgcmV0dXJuIF90aGlzOwogIH0KCiAgX2NyZWF0ZUNsYXNzKFRyZWF0Q2FtcGFpZ25EaWFsb2csIFt7CiAgICBrZXk6ICJtb3VudGVkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgICB0aGlzLmFwcHJvdmFsID0gewogICAgICAgIGNhbXBhaWduSWQ6IHRoaXMuY2FtcGFpZ24uaWQsCiAgICAgICAgYXBwcm92YWxBY3Rpb246ICcnCiAgICAgIH07CiAgICB9CiAgfSwgewogICAga2V5OiAidHJlYXRDYW1wYWlnbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdHJlYXRDYW1wYWlnbigpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBMb2cuaW5mbygiVHJlYXRpbmcgQ2FtcGFpZ24gQXBwcm92YWw6ICIuY29uY2F0KEpTT04uc3RyaW5naWZ5KHRoaXMuYXBwcm92YWwpKSk7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIENhbXBhaWduU2VydmljZS50cmVhdENhbXBhaWduQXBwcm92YWwodGhpcy5hcHByb3ZhbCwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMyLmxvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgX3RoaXMyLmNsb3NlKCk7CiAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIF90aGlzMi5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgX3RoaXMyLmVycm9yID0gVXRpbC5leHRyYWN0RXJyb3IoZXJyb3IpOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjbG9zZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY2xvc2UoKSB7CiAgICAgIHRoaXMuJGVtaXQoQ29uc3RhbnRzLmRpYWxvZ0Nsb3NlZEV2ZW50KTsKICAgIH0KICB9XSk7CgogIHJldHVybiBUcmVhdENhbXBhaWduRGlhbG9nOwp9KEJhc2VWdWUpOwoKX19kZWNvcmF0ZShbUHJvcCh7CiAgZGVmYXVsdDogZmFsc2UKfSldLCBUcmVhdENhbXBhaWduRGlhbG9nLnByb3RvdHlwZSwgInZpc2libGUiLCB2b2lkIDApOwoKX19kZWNvcmF0ZShbUHJvcCgpXSwgVHJlYXRDYW1wYWlnbkRpYWxvZy5wcm90b3R5cGUsICJjYW1wYWlnbiIsIHZvaWQgMCk7CgpUcmVhdENhbXBhaWduRGlhbG9nID0gX19kZWNvcmF0ZShbV2l0aFJlbmRlciwgQ29tcG9uZW50KHsKICBjb21wb25lbnRzOiB7CiAgICBNb2RhbDogTW9kYWwKICB9Cn0pXSwgVHJlYXRDYW1wYWlnbkRpYWxvZyk7CmV4cG9ydCBkZWZhdWx0IFRyZWF0Q2FtcGFpZ25EaWFsb2c7"},{"version":3,"sources":["/Users/dduru/VSCode/OmarzeUI/src/vues/backoffice/vues/campaign/modules/approvals/dialog/TreatCampaignDialog.ts"],"names":[],"mappings":";;;;;;AAAA,OAAO,UAAP,MAAuB,8BAAvB;AAEA,SAAS,SAAT,EAAoB,IAApB,QAAgC,wBAAhC;AAEA,OAAO,KAAP,MAAkB,0BAAlB;AACA,OAAO,OAAP,MAAoB,sBAApB;AACA,SAAS,SAAT,EAAoB,GAApB,EAAyB,IAAzB,QAAqC,mBAArC;AACA,OAAO,eAAP,MAA4B,kCAA5B;;AAUA,IAAqB,mBAArB;AAAA;AAAA;AAAA;;AAAA,iCAAA;AAAA;;AAAA;;;AAWY,UAAA,KAAA,GAAgB,EAAhB;AAGA,UAAA,OAAA,GAAmB,KAAnB;AAdZ;AAsDC;;AAtDD;AAAA;AAAA,8BAoBkB;AACV,WAAK,QAAL,GAAgB;AACZ,QAAA,UAAU,EAAE,KAAK,QAAL,CAAc,EADd;AAEZ,QAAA,cAAc,EAAE;AAFJ,OAAhB;AAIH;AAzBL;AAAA;AAAA,oCA4BwB;AAAA;;AAChB,MAAA,GAAG,CAAC,IAAJ,uCAAwC,IAAI,CAAC,SAAL,CAAe,KAAK,QAApB,CAAxC;AAEA,WAAK,OAAL,GAAe,IAAf;AAEA,MAAA,eAAe,CAAC,qBAAhB,CACI,KAAK,QADT,EAGI,UAAC,QAAD,EAAa;AACT,QAAA,MAAI,CAAC,OAAL,GAAe,KAAf;;AACA,QAAA,MAAI,CAAC,KAAL;AACH,OANL,EAQI,UAAC,KAAD,EAAU;AACN,QAAA,MAAI,CAAC,OAAL,GAAe,KAAf;AACA,QAAA,MAAI,CAAC,KAAL,GAAa,IAAI,CAAC,YAAL,CAAkB,KAAlB,CAAb;AACH,OAXL;AAaH;AA9CL;AAAA;AAAA,4BAiDgB;AACR,WAAK,KAAL,CAAW,SAAS,CAAC,iBAArB;AACH;AAnDL;;AAAA;AAAA,EAAiD,OAAjD,CAAA;;AAII,UAAA,CAAA,CADC,IAAI,CAAC;AAAC,EAAA,OAAO,EAAE;AAAV,CAAD,CACL,CAAA,E,6BAAA,E,SAAA,E,KAA0B,CAA1B,CAAA;;AAIA,UAAA,CAAA,CADC,IAAI,EACL,CAAA,E,6BAAA,E,UAAA,E,KAAuB,CAAvB,CAAA;;AARiB,mBAAmB,GAAA,UAAA,CAAA,CANvC,UAMuC,EALvC,SAAS,CAAC;AACP,EAAA,UAAU,EAAE;AACR,IAAA,KAAK,EAAL;AADQ;AADL,CAAD,CAK8B,CAAA,EAAnB,mBAAmB,CAAnB;eAAA,mB","sourcesContent":["import WithRender from './treat-campaign-dialog.html';\n\nimport { Component, Prop } from 'vue-property-decorator';\n\nimport Modal from '@/components/modal/Modal';\nimport BaseVue from '@/components/BaseVue';\nimport { Constants, Log, Util } from '@/components/util';\nimport CampaignService from '../../../service/CampaignService';\n\n\n\n@WithRender\n@Component({\n    components: {\n        Modal,\n    },\n})\nexport default class TreatCampaignDialog extends BaseVue {\n\n\n    @Prop({default: false})\n    private visible!: boolean;\n\n\n    @Prop()\n    private campaign!: any;\n\n\n    private error: string = '';\n\n\n    private loading: boolean = false;\n\n\n    private approval!: any;\n\n\n    public mounted() {\n        this.approval = {\n            campaignId: this.campaign.id,\n            approvalAction: '',\n        };\n    }\n\n\n    public treatCampaign() {\n        Log.info(`Treating Campaign Approval: ${JSON.stringify(this.approval)}`);\n\n        this.loading = true;\n\n        CampaignService.treatCampaignApproval(\n            this.approval,\n\n            (response) => {\n                this.loading = false;\n                this.close();\n            },\n\n            (error) => {\n                this.loading = false;\n                this.error = Util.extractError(error);\n            }\n        );\n    }\n\n\n    public close() {\n        this.$emit(Constants.dialogClosedEvent);\n    }\n\n\n}\n\n\n\n\n"],"sourceRoot":""}]}