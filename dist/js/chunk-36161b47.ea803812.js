(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-36161b47"],{"129f":function(a,t){a.exports=Object.is||function(a,t){return a===t?0!==a||1/a===1/t:a!=a&&t!=t}},"22cd":function(a,t){var e=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[e("div",{staticClass:"main-route-content"},[e("div",{staticClass:"row flex-container-baseline"},[a.hasElements?e("div",[e("span",{staticClass:"much-larger-font bold-font"},[a._v(a._s(a.elements.pageData.totalElements))]),a._v(" "),e("span",[a._v("\r\n                    "+a._s(a.quantity(a.elements.pageData.totalElements,"Campaign"))+" awaiting approval\r\n                ")])]):a._e()]),a._v(" "),e("div",{staticClass:"row"},[a.hasElements?e("section",[e("table",{staticClass:"table table-striped"},[a._m(0),a._v(" "),e("tbody",a._l(a.elements.list,(function(t){return e("tr",[e("td",[e("span",{staticClass:"wine bold-font slight-bigger-font"},[a._v(a._s(t.name))])]),a._v(" "),e("td",{staticClass:"hidden-xs"},[e("span",{staticClass:"dark-grey"},[a._v(a._s(t.description))])]),a._v(" "),e("td",[e("span",{staticClass:"blue"},[a._v(a._s(t.startDate))])]),a._v(" "),e("td",[e("span",{staticClass:"blue"},[a._v(a._s(t.endDate))])]),a._v(" "),e("td",[e("span",{staticClass:"bold-font"},[a._v(a._s(t.partnerName))])]),a._v(" "),e("td",[a._v(a._s(t.campaignType))]),a._v(" "),e("td",[e("span",{staticClass:"badge bg-info"},[a._v("\r\n                                    "+a._s(t.campaignStatus)+"\r\n                                ")])]),a._v(" "),e("td",[e("button",{staticClass:"btn btn-white white-btn-blue",on:{click:function(e){return a.showTreatCampaignApproval(t)}}},[a._v("Treat")])])])})),0)]),a._v(" "),e("page-navigator",{attrs:{canNext:a.canNext,canPrevious:a.canPrevious},on:{"previous-page-nav":function(t){return a.previous()},"next-page-nav":function(t){return a.next()}}})],1):e("div",[a.elements.loading?e("div",{staticClass:"alert alert-block alert-primary fade in"},[e("strong",[a._v("Loading")]),a._v(" "),e("i",{staticClass:"fa fa-spinner fa-spin",attrs:{"aria-hidden":"true"}})]):e("div",{staticClass:"alert alert-block alert-danger fade in"},[e("span",[a._v("\r\n                        No Campaigns Awaiting approval\r\n                    ")])])])]),a._v(" "),a.dialogOpts.treatCampaignApproval.visible?e("treat-campaign-dialog",{attrs:{visible:a.dialogOpts.treatCampaignApproval.visible,campaign:a.dialogOpts.treatCampaignApproval.selectedCampaign},on:{"close-dialog":a.hideTreatCampaignApproval}}):a._e()],1)])},n=[function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("thead",[e("tr",[e("td",{staticClass:"col-md-2"},[a._v("Name")]),a._v(" "),e("td",{staticClass:"col-md-3"},[a._v("Description")]),a._v(" "),e("td",{staticClass:"col-md-1"},[a._v("Start Date")]),a._v(" "),e("td",{staticClass:"col-md-1"},[a._v("End Date")]),a._v(" "),e("td",{staticClass:"col-md-2"},[a._v("Partner")]),a._v(" "),e("td",{staticClass:"col-md-1"},[a._v("Type")]),a._v(" "),e("td",{staticClass:"col-md-1"},[a._v("Status")]),a._v(" "),e("td",{staticClass:"col-md-1"})])])}];a.exports=function(a){var t="function"===typeof a?a.options:a;return t.render=e,t.staticRenderFns=n,a}},4088:function(a,t,e){"use strict";e.r(t);var n=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("campaign-approval-home")},i=[],s=e("d4ec"),r=e("262e"),o=e("2caf"),l=e("9ab4"),c=e("60a3"),p=e("bee2"),d=e("257e"),u=e("22cd"),v=e.n(u),g=e("408a"),m=e("7c50"),f=e("ac4b"),h=e("9cc8"),b=e("ebe3"),_=e.n(b),C=e("976a"),y=e("2fd6"),O=e("fc54"),D=function(a){Object(r["a"])(e,a);var t=Object(o["a"])(e);function e(){var a;return Object(s["a"])(this,e),a=t.apply(this,arguments),a.error="",a.loading=!1,a}return Object(p["a"])(e,[{key:"mounted",value:function(){this.approval={campaignId:this.campaign.id,approvalAction:""}}},{key:"treatCampaign",value:function(){var a=this;O["b"].info("Treating Campaign Approval: ".concat(JSON.stringify(this.approval))),this.loading=!0,f["a"].treatCampaignApproval(this.approval,(function(t){a.loading=!1,a.close()}),(function(t){a.loading=!1,a.error=O["c"].extractError(t)}))}},{key:"close",value:function(){this.$emit(O["a"].dialogClosedEvent)}}]),e}(y["a"]);Object(l["a"])([Object(c["b"])({default:!1})],D.prototype,"visible",void 0),Object(l["a"])([Object(c["b"])()],D.prototype,"campaign",void 0),D=Object(l["a"])([_.a,Object(c["a"])({components:{Modal:C["a"]}})],D);var A=D,P=function(a){Object(r["a"])(e,a);var t=Object(o["a"])(e);function e(){var a;return Object(s["a"])(this,e),a=t.apply(this,arguments),a.dialogOpts={treatCampaignApproval:{selectedCampaign:null,visible:!1}},a.elements=new m["a"]("campaigns",a.loadCampaignsForApproval.bind(Object(d["a"])(a))),a}return Object(p["a"])(e,[{key:"mounted",value:function(){this.elements.initialize()}},{key:"loadCampaignsForApproval",value:function(a){var t=this;this.elements.setLoading(!0),f["a"].getCampaignByStatus("AWAITING_APPROVAL",new h["a"](this.elements.pageData.number,this.elements.pageData.size,a),(function(a){return t.handleSuccessResponse(a)}))}},{key:"showTreatCampaignApproval",value:function(a){this.dialogOpts.treatCampaignApproval.selectedCampaign=a,this.dialogOpts.treatCampaignApproval.visible=!0}},{key:"hideTreatCampaignApproval",value:function(){this.dialogOpts.treatCampaignApproval.visible=!1,this.elements.initialize()}},{key:"getPageDataModel",value:function(){return this.elements}}]),e}(g["a"]);P=Object(l["a"])([v.a,Object(c["a"])({components:{TreatCampaignDialog:A}})],P);var k=P,E=function(a){Object(r["a"])(e,a);var t=Object(o["a"])(e);function e(){return Object(s["a"])(this,e),t.apply(this,arguments)}return e}(c["c"]);E=Object(l["a"])([Object(c["a"])({components:{CampaignApprovalHome:k}})],E);var j=E,S=j,w=(e("421b"),e("2877")),x=Object(w["a"])(S,n,i,!1,null,null,null);t["default"]=x.exports},"408a":function(a,t,e){"use strict";e.d(t,"a",(function(){return l}));var n=e("d4ec"),i=e("bee2"),s=e("262e"),r=e("2caf"),o=e("2fd6"),l=function(a){Object(s["a"])(e,a);var t=Object(r["a"])(e);function e(){return Object(n["a"])(this,e),t.apply(this,arguments)}return Object(i["a"])(e,[{key:"next",value:function(){this.getPageDataModel().next()}},{key:"previous",value:function(){this.getPageDataModel().previous()}},{key:"handleSuccessResponse",value:function(a){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=this.getPageDataModel();e.setLoading(!1),e.assignResponse(a,t)}},{key:"handleErrorResponse",value:function(a){this.getPageDataModel().setLoading(!1)}},{key:"hasElements",get:function(){return this.getPageDataModel()&&this.getPageDataModel().hasElements()}},{key:"canPrevious",get:function(){return this.getPageDataModel().canPrevious()}},{key:"canNext",get:function(){return this.getPageDataModel().canNext()}}]),e}(o["a"])},"4b3d":function(a,t){var e=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("transition",{attrs:{name:"modal"}},[a.showing?e("div",{staticClass:"modal-mask"},[e("div",{staticClass:"modal-wrapper"},[e("div",{staticClass:"modal-container",class:[a.modalClass]},[e("div",{staticClass:"modal-header"},[a._t("header",[a._v("\r\n                        default modal header\r\n                    ")])],2),a._v(" "),e("div",{staticClass:"modal-body"},[a._t("body",[a._v("\r\n                        default modal body\r\n                    ")])],2)])])]):a._e()])},n=[];a.exports=function(a){var t="function"===typeof a?a.options:a;return t.render=e,t.staticRenderFns=n,a}},"841c":function(a,t,e){"use strict";var n=e("d784"),i=e("825a"),s=e("1d80"),r=e("129f"),o=e("14c3");n("search",1,(function(a,t,e){return[function(t){var e=s(this),n=void 0==t?void 0:t[a];return void 0!==n?n.call(t,e):new RegExp(t)[a](String(e))},function(a){var n=e(t,a,this);if(n.done)return n.value;var s=i(a),l=String(this),c=s.lastIndex;r(c,0)||(s.lastIndex=0);var p=o(s,l);return r(s.lastIndex,c)||(s.lastIndex=c),null===p?-1:p.index}]}))},"96bb":function(a){a.exports=JSON.parse('{"getAll":{"status":200,"body":{"_embedded":{"campaigns":[{"timeAdded":"2020-07-08T19:35:05.174","timeUpdated":null,"createdBy":null,"name":"Party With Burna","description":"Party Description","startDate":"2020-01-01","endDate":"2020-03-05","expectedWinnerCount":5,"campaignType":"SINGLE","campaignStatus":"APPROVED","partnerName":"Burna Boy","finalStage":"SECOND","_links":{"self":{"href":"http://localhost/api/v1/campaigns/1"},"campaign":{"href":"http://localhost/api/v1/campaigns/1"},"stageDescriptions":{"href":"http://localhost/api/v1/campaigns/1/stageDescriptions"},"partner":{"href":"http://localhost/api/v1/campaigns/1/partner"}}},{"timeAdded":"2020-07-08T19:35:05.174","timeUpdated":null,"createdBy":null,"name":"BURNA Jamz","description":"Jamz Description","startDate":"2020-01-01","endDate":"2020-03-05","expectedWinnerCount":5,"campaignType":"SINGLE","campaignStatus":"COMPLETED","partnerName":"Burna Boy","finalStage":"SECOND","_links":{"self":{"href":"http://localhost/api/v1/campaigns/2"},"campaign":{"href":"http://localhost/api/v1/campaigns/2"},"stageDescriptions":{"href":"http://localhost/api/v1/campaigns/2/stageDescriptions"},"partner":{"href":"http://localhost/api/v1/campaigns/2/partner"}}},{"timeAdded":"2020-07-08T19:35:05.174","timeUpdated":null,"createdBy":null,"name":"BURNA Jamz","description":"Jamz Description","startDate":"2020-01-01","endDate":"2020-03-05","expectedWinnerCount":5,"campaignType":"SINGLE","campaignStatus":"DISAPPROVED","finalStage":"SECOND","partnerName":"Burna Boy","_links":{"self":{"href":"http://localhost/api/v1/campaigns/2"},"campaign":{"href":"http://localhost/api/v1/campaigns/2"},"stageDescriptions":{"href":"http://localhost/api/v1/campaigns/2/stageDescriptions"},"partner":{"href":"http://localhost/api/v1/campaigns/2/partner"}}}]},"_links":{"self":{"href":"http://localhost/api/v1/campaigns{?page,size,sort}","templated":true},"profile":{"href":"http://localhost/api/v1/profile/campaigns"},"search":{"href":"http://localhost/api/v1/campaigns/search"}},"page":{"size":20,"totalElements":2,"totalPages":1,"number":0}}},"search":{"status":200,"body":{"_embedded":{"campaigns":[{"timeAdded":"2020-07-08T22:30:43.518","timeUpdated":null,"createdBy":null,"name":"Party With Burna","description":"Party Description","startDate":"2020-01-01","endDate":"2020-03-05","expectedWinnerCount":5,"campaignType":"SINGLE","campaignStatus":"APPROVED","finalStage":"SECOND","_links":{"self":{"href":"http://localhost/api/v1/campaign/1"},"campaign":{"href":"http://localhost/api/v1/campaign/1"},"stageDescriptions":{"href":"http://localhost/api/v1/campaign/1/stageDescriptions"},"partner":{"href":"http://localhost/api/v1/campaign/1/partner"}}}]},"_links":{"self":{"href":"http://localhost/api/v1/campaign/search/searchCampaign?name=Burna&desc=party&page=0&size=20"}},"page":{"size":20,"totalElements":1,"totalPages":1,"number":0}}}}')},"976a":function(a,t,e){"use strict";var n=e("d4ec"),i=e("bee2"),s=e("262e"),r=e("2caf"),o=e("9ab4"),l=e("2fd6"),c=e("60a3"),p=e("4b3d"),d=e.n(p),u=function(a){Object(s["a"])(e,a);var t=Object(r["a"])(e);function e(){var a;return Object(n["a"])(this,e),a=t.apply(this,arguments),a.dialogVisible=!1,a}return Object(i["a"])(e,[{key:"mounted",value:function(){var a=this;this.dialogVisible=this.show,document.addEventListener("keydown",(function(t){a.dialogVisible&&27===t.keyCode&&a.close()}))}},{key:"close",value:function(){this.dialogVisible=!1,this.$emit("close-dialog")}},{key:"showing",get:function(){return this.dialogVisible}}]),e}(l["a"]);Object(o["a"])([Object(c["b"])({default:!1})],u.prototype,"show",void 0),Object(o["a"])([Object(c["b"])({default:"modal-small"})],u.prototype,"modalClass",void 0),u=Object(o["a"])([d.a,c["a"]],u),t["a"]=u},"9cc8":function(a,t,e){"use strict";e.d(t,"a",(function(){return i}));var n=e("d4ec"),i=function a(t,e,i){Object(n["a"])(this,a),this.page=t,this.size=e,this.URL=i}},ac4b:function(a,t,e){"use strict";e.d(t,"a",(function(){return u}));e("99af");var n=e("d4ec"),i=e("bee2"),s=e("fc54"),r=(e("ac1f"),e("841c"),e("262e")),o=e("2caf"),l=e("96bb"),c=e("01ee"),p=e("caab"),d=function(a){Object(r["a"])(e,a);var t=Object(o["a"])(e);function e(){var a;return Object(n["a"])(this,e),a=t.apply(this,arguments),a.interceptConfigs=[{url:"/api/v1/campaign?page=0&size=10",method:"GET",response:l.getAll},{url:"/api/v1/campaign/search/searchCampaign?name=a&desc=a",method:"GET",response:l.search}],a}return e}(c["a"]);p["a"].register(new d);var u=function(){function a(){Object(n["a"])(this,a)}return Object(i["a"])(a,null,[{key:"getCampaigns",value:function(a,t,e){a.URL?s["d"].getAbsolute(a.URL,t,e):s["d"].get("/api/v1/campaign_request?page="+a.page+"&size="+a.size,t,e)}},{key:"searchCampaigns",value:function(a,t,e,n){t.URL?s["d"].getAbsolute(t.URL,e,n):s["d"].get("/api/v1/campaign/search/searchCampaign?name="+a+"&desc="+a,e,n)}},{key:"searchActiveCampaign",value:function(a,t,e,n){s["d"].get("/api/v1/campaign_request/search?query=".concat(a,"&page=").concat(t.page,"&size=").concat(t.size),e,n)}},{key:"getCampaignByStatus",value:function(a,t,e,n){t.URL?s["d"].getAbsolute(t.URL,e,n):s["d"].get("/api/v1/campaign/search/byStatus?projection=campaignDetails&sort=id,desc&status="+a,e,n)}},{key:"saveCampaign",value:function(a,t,e){s["d"].post("/api/v1/campaign_request",a,t,e)}},{key:"getCampaignDetails",value:function(a,t,e){s["d"].get("/api/v1/campaign_request/"+a,t,e)}},{key:"treatCampaignApproval",value:function(a,t,e){s["d"].post("/api/v1/campaign_approval",a,t,e)}},{key:"getCampaignStatusClass",value:function(a){switch(a){case"ACTIVE":case"APPROVED":return"bg-success";case"COMPLETED":case"AWAITING_APPROVAL":return"bg-info";case"CANCELLED":case"DISAPPROVED":return"bg-important"}}}]),a}()},ebe3:function(a,t){var e=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("modal",{attrs:{show:a.visible,"modal-class":"modal-small"},on:{"close-dialog":a.close}},[e("h4",{staticClass:"bold-font",attrs:{slot:"header"},slot:"header"},[a._v("Treat Campaign")]),a._v(" "),e("div",{staticClass:"row h-padding-big",attrs:{slot:"body"},slot:"body"},[e("validation-observer",{ref:"observer",attrs:{tag:"form",role:"form"},on:{submit:function(t){return t.preventDefault(),a.treatCampaign(t)}},scopedSlots:a._u([{key:"default",fn:function(t){t.invalid;return[e("div",{staticClass:"form-group"},[e("validation-provider",{attrs:{rules:"required",immediate:""},scopedSlots:a._u([{key:"default",fn:function(t){t.invalid;return[e("div",{staticClass:"radios"},[e("label",{staticClass:"label_radio",attrs:{for:"approve-radio"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.approval.approvalAction,expression:"approval.approvalAction"}],attrs:{type:"radio",name:"approval-radio",id:"approve-radio",value:"APPROVED"},domProps:{checked:a._q(a.approval.approvalAction,"APPROVED")},on:{change:function(t){return a.$set(a.approval,"approvalAction","APPROVED")}}}),a._v(" Approve\r\n                        ")]),a._v(" "),e("label",{staticClass:"label_radio",attrs:{for:"disapprove-radio"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.approval.approvalAction,expression:"approval.approvalAction"}],attrs:{type:"radio",name:"approval-radio",id:"disapprove-radio",value:"DISAPPROVED"},domProps:{checked:a._q(a.approval.approvalAction,"DISAPPROVED")},on:{change:function(t){return a.$set(a.approval,"approvalAction","DISAPPROVED")}}}),a._v(" Disapprove\r\n                        ")])])]}}],null,!0)})],1)]}}])})],1),a._v(" "),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("div",{staticClass:"pull-left"},[e("span",{directives:[{name:"show",rawName:"v-show",value:a.loading,expression:"loading"}],staticClass:"blue"},[a._v("\r\n                Loading... "),e("i",{staticClass:"fa fa-spinner fa-spin"})]),a._v(" "),e("span",{staticClass:"wine smaller-font"},[a._v("\r\n                "+a._s(a.error)+"\r\n            ")])]),a._v(" "),e("div",{staticClass:"pull-right"},[e("button",{staticClass:"btn btn-primary",on:{click:function(t){return a.treatCampaign()}}},[a._v("\r\n                Done\r\n            ")])])])])},n=[];a.exports=function(a){var t="function"===typeof a?a.options:a;return t.render=e,t.staticRenderFns=n,a}}}]);