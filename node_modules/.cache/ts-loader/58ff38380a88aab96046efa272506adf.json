{"remainingRequest":"/Users/dduru/VSCode/OmarzeUI/node_modules/babel-loader/lib/index.js!/Users/dduru/VSCode/OmarzeUI/node_modules/ts-loader/index.js??ref--13-2!/Users/dduru/VSCode/OmarzeUI/src/vues/backoffice/vues/users/backoffice-users/dialog/new-user/CreateBackOfficeUserDialog.ts","dependencies":[{"path":"/Users/dduru/VSCode/OmarzeUI/src/vues/backoffice/vues/users/backoffice-users/dialog/new-user/CreateBackOfficeUserDialog.ts","mtime":1589585520942},{"path":"/Users/dduru/VSCode/OmarzeUI/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dduru/VSCode/OmarzeUI/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/dduru/VSCode/OmarzeUI/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmZsYWdzIjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMvZGR1cnUvVlNDb2RlL09tYXJ6ZVVJL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL1VzZXJzL2RkdXJ1L1ZTQ29kZS9PbWFyemVVSS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAiL1VzZXJzL2RkdXJ1L1ZTQ29kZS9PbWFyemVVSS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiI7CmltcG9ydCBfZ2V0UHJvdG90eXBlT2YgZnJvbSAiL1VzZXJzL2RkdXJ1L1ZTQ29kZS9PbWFyemVVSS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZ2V0UHJvdG90eXBlT2YiOwppbXBvcnQgX2luaGVyaXRzIGZyb20gIi9Vc2Vycy9kZHVydS9WU0NvZGUvT21hcnplVUkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzIjsKaW1wb3J0IHsgX19kZWNvcmF0ZSB9IGZyb20gInRzbGliIjsKaW1wb3J0IFdpdGhSZW5kZXIgZnJvbSAnLi9jcmVhdGUtYmFjay1vZmZpY2UtdXNlci1kaWFsb2cuaHRtbCc7CmltcG9ydCB7IENvbXBvbmVudCwgUHJvcCB9IGZyb20gJ3Z1ZS1wcm9wZXJ0eS1kZWNvcmF0b3InOwppbXBvcnQgTW9kYWwgZnJvbSAnQC9jb21wb25lbnRzL21vZGFsL01vZGFsJzsKaW1wb3J0IEJhc2VWdWUgZnJvbSAnQC9jb21wb25lbnRzL0Jhc2VWdWUnOwppbXBvcnQgeyBMb2csIENvbnN0YW50cyB9IGZyb20gJ0AvY29tcG9uZW50cy91dGlsJzsKaW1wb3J0IEJhY2tPZmZpY2VVc2VyU2VydmljZSBmcm9tICdAL3NlcnZpY2VzL3VzZXJzL0JhY2tPZmZpY2VVc2VyU2VydmljZSc7Cgp2YXIgQ3JlYXRlQmFja09mZmljZVVzZXJEaWFsb2cgPQovKiNfX1BVUkVfXyovCmZ1bmN0aW9uIChfQmFzZVZ1ZSkgewogIF9pbmhlcml0cyhDcmVhdGVCYWNrT2ZmaWNlVXNlckRpYWxvZywgX0Jhc2VWdWUpOwoKICBmdW5jdGlvbiBDcmVhdGVCYWNrT2ZmaWNlVXNlckRpYWxvZygpIHsKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ3JlYXRlQmFja09mZmljZVVzZXJEaWFsb2cpOwoKICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKENyZWF0ZUJhY2tPZmZpY2VVc2VyRGlhbG9nKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTsKICAgIF90aGlzLmVycm9yID0gJyc7CiAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICByZXR1cm4gX3RoaXM7CiAgfQoKICBfY3JlYXRlQ2xhc3MoQ3JlYXRlQmFja09mZmljZVVzZXJEaWFsb2csIFt7CiAgICBrZXk6ICJtb3VudGVkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgICB0aGlzLnVzZXIgPSB7CiAgICAgICAgbmFtZTogJycsCiAgICAgICAgZW1haWw6ICcnLAogICAgICAgIHVzZXJuYW1lOiAnJywKICAgICAgICBwYXNzd29yZDogJycsCiAgICAgICAgY29uZmlybVBhc3N3b3JkOiAnJwogICAgICB9OwogICAgICB0aGlzLiRyZWZzLm9ic2VydmVyLnJlc2V0KCk7CiAgICB9CiAgfSwgewogICAga2V5OiAiY3JlYXRlVXNlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlVXNlcigpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLmVycm9yID0gJyc7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIHRoaXMudmFsaWRhdGVVc2VyTW9kZWwoKTsKICAgICAgQmFja09mZmljZVVzZXJTZXJ2aWNlLmNyZWF0ZUJhY2tPZmZpY2VVc2VyKHRoaXMudXNlciwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMyLmNsb3NlKCk7CiAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIExvZy5lcnJvcignRXJyb3Igb2NjdXJyZWQ6ICcgKyBKU09OLnN0cmluZ2lmeShlcnJvcikpOwogICAgICAgIF90aGlzMi5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgX3RoaXMyLmVycm9yID0gX3RoaXMyLmV4dHJhY3RFcnJvcihlcnJvcik7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogInZhbGlkYXRlVXNlck1vZGVsIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB2YWxpZGF0ZVVzZXJNb2RlbCgpIHsKICAgICAgaWYgKHRoaXMudXNlci5wYXNzd29yZCAhPT0gdGhpcy51c2VyLmNvbmZpcm1QYXNzd29yZCkgewogICAgICAgIHRoaXMuZXJyb3IgPSAnUGxlYXNlIGNvbmZpcm0gcGFzc3dvcmQnOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgfSwgewogICAga2V5OiAiY2xvc2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNsb3NlKCkgewogICAgICB0aGlzLiRlbWl0KENvbnN0YW50cy5kaWFsb2dDbG9zZWRFdmVudCk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZm9ybUludmFsaWQiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLiRyZWZzLm9ic2VydmVyICYmIHRoaXMuJHJlZnMub2JzZXJ2ZXIuZmxhZ3MuaW52YWxpZDsKICAgIH0KICB9XSk7CgogIHJldHVybiBDcmVhdGVCYWNrT2ZmaWNlVXNlckRpYWxvZzsKfShCYXNlVnVlKTsKCl9fZGVjb3JhdGUoW1Byb3AoewogIGRlZmF1bHQ6IGZhbHNlCn0pXSwgQ3JlYXRlQmFja09mZmljZVVzZXJEaWFsb2cucHJvdG90eXBlLCAidmlzaWJsZSIsIHZvaWQgMCk7CgpDcmVhdGVCYWNrT2ZmaWNlVXNlckRpYWxvZyA9IF9fZGVjb3JhdGUoW1dpdGhSZW5kZXIsIENvbXBvbmVudCh7CiAgY29tcG9uZW50czogewogICAgTW9kYWw6IE1vZGFsCiAgfQp9KV0sIENyZWF0ZUJhY2tPZmZpY2VVc2VyRGlhbG9nKTsKZXhwb3J0IGRlZmF1bHQgQ3JlYXRlQmFja09mZmljZVVzZXJEaWFsb2c7"},{"version":3,"sources":["/Users/dduru/VSCode/OmarzeUI/src/vues/backoffice/vues/users/backoffice-users/dialog/new-user/CreateBackOfficeUserDialog.ts"],"names":[],"mappings":";;;;;;;AAKA,OAAO,UAAP,MAAuB,uCAAvB;AACA,SAAS,SAAT,EAAoB,IAApB,QAAqC,wBAArC;AAEA,OAAO,KAAP,MAAkB,0BAAlB;AACA,OAAO,OAAP,MAAoB,sBAApB;AACA,SAAS,GAAT,EAAc,SAAd,QAA+B,mBAA/B;AACA,OAAO,qBAAP,MAAkC,wCAAlC;;AAUA,IAAqB,0BAArB;AAAA;AAAA;AAAA;;AAAA,wCAAA;AAAA;;AAAA;;;AAOY,UAAA,KAAA,GAAgB,EAAhB;AAGA,UAAA,OAAA,GAAmB,KAAnB;AAVZ;AA4EC;;AA5ED;AAAA;AAAA,8BAqBkB;AACV,WAAK,IAAL,GAAY;AACR,QAAA,IAAI,EAAE,EADE;AAER,QAAA,KAAK,EAAE,EAFC;AAGR,QAAA,QAAQ,EAAE,EAHF;AAIR,QAAA,QAAQ,EAAE,EAJF;AAKR,QAAA,eAAe,EAAE;AALT,OAAZ;AAQA,WAAK,KAAL,CAAW,QAAX,CAAoB,KAApB;AACH;AA/BL;AAAA;AAAA,iCAkCqB;AAAA;;AACb,WAAK,KAAL,GAAa,EAAb;AACA,WAAK,OAAL,GAAe,IAAf;AAEA,WAAK,iBAAL;AAEA,MAAA,qBAAqB,CAAC,oBAAtB,CACI,KAAK,IADT,EAGI,UAAC,QAAD,EAAkB;AACd,QAAA,MAAI,CAAC,KAAL;AACH,OALL,EAOI,UAAC,KAAD,EAAe;AACX,QAAA,GAAG,CAAC,KAAJ,CAAU,qBAAqB,IAAI,CAAC,SAAL,CAAe,KAAf,CAA/B;AACA,QAAA,MAAI,CAAC,OAAL,GAAe,KAAf;AACA,QAAA,MAAI,CAAC,KAAL,GAAa,MAAI,CAAC,YAAL,CAAkB,KAAlB,CAAb;AACH,OAXL;AAaH;AArDL;AAAA;AAAA,wCAwD4B;AACpB,UAAI,KAAK,IAAL,CAAU,QAAV,KAAuB,KAAK,IAAL,CAAU,eAArC,EAAsD;AAClD,aAAK,KAAL,GAAa,yBAAb;AACA,eAAO,KAAP;AACH;;AAED,aAAO,IAAP;AACH;AA/DL;AAAA;AAAA,4BAuEgB;AACR,WAAK,KAAL,CAAW,SAAS,CAAC,iBAArB;AACH;AAzEL;AAAA;AAAA,wBAkE0B;AAClB,aAAO,KAAK,KAAL,CAAW,QAAX,IAAuB,KAAK,KAAL,CAAW,QAAX,CAAoB,KAApB,CAA0B,OAAxD;AACH;AApEL;;AAAA;AAAA,EAAwD,OAAxD,CAAA;;AAII,UAAA,CAAA,CADC,IAAI,CAAC;AAAC,EAAA,OAAO,EAAE;AAAV,CAAD,CACL,CAAA,E,oCAAA,E,SAAA,E,KAA0B,CAA1B,CAAA;;AAJiB,0BAA0B,GAAA,UAAA,CAAA,CAN9C,UAM8C,EAL9C,SAAS,CAAC;AACP,EAAA,UAAU,EAAE;AACR,IAAA,KAAK,EAAL;AADQ;AADL,CAAD,CAKqC,CAAA,EAA1B,0BAA0B,CAA1B;eAAA,0B","sourcesContent":["\n// import '@/components/util/Validation';\nimport { extend, ValidationObserver } from 'vee-validate';\nimport { email } from 'vee-validate/dist/rules';\n\nimport WithRender from './create-back-office-user-dialog.html';\nimport { Component, Prop, Ref } from 'vue-property-decorator';\n\nimport Modal from '@/components/modal/Modal';\nimport BaseVue from '@/components/BaseVue';\nimport { Log, Constants } from '@/components/util';\nimport BackOfficeUserService from '@/services/users/BackOfficeUserService';\n\n\n\n@WithRender\n@Component({\n    components: {\n        Modal,\n    },\n})\nexport default class CreateBackOfficeUserDialog extends BaseVue {\n\n\n    @Prop({default: false})\n    private visible!: boolean;\n\n\n    private error: string = '';\n\n\n    private loading: boolean = false;\n\n\n    private user!: any;\n\n\n    public $refs!: Vue['$refs'] & {\n        observer: InstanceType<typeof ValidationObserver>\n    };\n\n\n    public mounted() {\n        this.user = {\n            name: '',\n            email: '',\n            username: '',\n            password: '',\n            confirmPassword: '',\n        };\n\n        this.$refs.observer.reset();\n    }\n\n\n    public createUser() {\n        this.error = '';\n        this.loading = true;\n\n        this.validateUserModel();\n\n        BackOfficeUserService.createBackOfficeUser(\n            this.user,\n\n            (response: any) => {\n                this.close();\n            },\n\n            (error: any) => {\n                Log.error('Error occurred: ' + JSON.stringify(error));\n                this.loading = false;\n                this.error = this.extractError(error);\n            }\n        );\n    }\n\n\n    public validateUserModel() {\n        if (this.user.password !== this.user.confirmPassword) {\n            this.error = 'Please confirm password';\n            return false;\n        }\n\n        return true;\n    }\n\n\n    public get formInvalid(): boolean {\n        return this.$refs.observer && this.$refs.observer.flags.invalid;\n    }\n\n\n    public close() {\n        this.$emit(Constants.dialogClosedEvent);\n    }\n\n\n}\n\n"],"sourceRoot":""}]}