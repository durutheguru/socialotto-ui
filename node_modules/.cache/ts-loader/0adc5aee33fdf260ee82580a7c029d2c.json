{"remainingRequest":"/Users/dduru/VSCode/OmarzeUI/node_modules/babel-loader/lib/index.js!/Users/dduru/VSCode/OmarzeUI/node_modules/ts-loader/index.js??ref--13-2!/Users/dduru/VSCode/OmarzeUI/src/components/core/PageDataModel.ts","dependencies":[{"path":"/Users/dduru/VSCode/OmarzeUI/src/components/core/PageDataModel.ts","mtime":1594816611031},{"path":"/Users/dduru/VSCode/OmarzeUI/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dduru/VSCode/OmarzeUI/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/dduru/VSCode/OmarzeUI/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMvZGR1cnUvVlNDb2RlL09tYXJ6ZVVJL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL1VzZXJzL2RkdXJ1L1ZTQ29kZS9PbWFyemVVSS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgeyBMb2cgfSBmcm9tICcuLi91dGlsJzsKaW1wb3J0IENvbnN0YW50cyBmcm9tICcuLi91dGlsL0NvbnN0YW50cyc7CnZhciBkZWZhdWx0UGFnZURhdGEgPSB7CiAgbmV4dDoge30sCiAgcHJldmlvdXM6IHt9LAogIG51bWJlcjogQ29uc3RhbnRzLmRlZmF1bHRQYWdpbmF0aW9uLnBhZ2UsCiAgc2l6ZTogQ29uc3RhbnRzLmRlZmF1bHRQYWdpbmF0aW9uLnNpemUsCiAgdG90YWxFbGVtZW50czogMCwKICB0b3RhbFBhZ2VzOiAwCn07Cgp2YXIgUGFnZURhdGFNb2RlbCA9Ci8qI19fUFVSRV9fKi8KZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIFBhZ2VEYXRhTW9kZWwoZW50aXR5S2V5TmFtZSwgLy8gc3RyaW5nIHZhbHVlIHVzZWQgdG8gZXh0cmFjdCBlbnRpdHkgZnJvbSBwYWdlIHJlc3BvbnNlCiAgbG9hZEVudGl0eUZ1bmN0aW9uLCAvLyBmdW5jdGlvbiB0byBpbnZva2UgdG8gbG9hZCBlbnRpdHkKICBzZWFyY2hFbnRpdHlGdW5jdGlvbiAvLyBmdW5jdGlvbiB0byBpbnZva2Ugd2hlbiBzZWFyY2hpbmcgZW50aXR5CiAgKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUGFnZURhdGFNb2RlbCk7CgogICAgdGhpcy5lbnRpdHlLZXlOYW1lID0gZW50aXR5S2V5TmFtZTsKICAgIHRoaXMubG9hZEVudGl0eUZ1bmN0aW9uID0gbG9hZEVudGl0eUZ1bmN0aW9uOwogICAgdGhpcy5zZWFyY2hFbnRpdHlGdW5jdGlvbiA9IHNlYXJjaEVudGl0eUZ1bmN0aW9uOwogICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICB0aGlzLmVycm9yID0gJyc7CiAgICB0aGlzLmxpc3QgPSBbXTsKICAgIHRoaXMucGFnZURhdGEgPSBkZWZhdWx0UGFnZURhdGE7CiAgICB0aGlzLnNlYXJjaFJlc3VsdHMgPSBmYWxzZTsKICAgIHRoaXMuc2VhcmNoUXVlcnkgPSAnJzsKICB9CgogIF9jcmVhdGVDbGFzcyhQYWdlRGF0YU1vZGVsLCBbewogICAga2V5OiAiaW5pdGlhbGl6ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSgpIHsKICAgICAgaWYgKCEhdGhpcy5sb2FkRW50aXR5RnVuY3Rpb24pIHsKICAgICAgICB0aGlzLmxvYWRFbnRpdHlGdW5jdGlvbigpOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiY2xlYXJQYWdlRGF0YSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYXJQYWdlRGF0YSgpIHsKICAgICAgdGhpcy5wYWdlRGF0YSA9IGRlZmF1bHRQYWdlRGF0YTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZXRMb2FkaW5nIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRMb2FkaW5nKGxvYWRpbmcpIHsKICAgICAgaWYgKGxvYWRpbmcpIHsKICAgICAgICB0aGlzLmVycm9yID0gJyc7CiAgICAgICAgTG9nLmluZm8oJ0xvYWRpbmcgJyArIHRoaXMuZW50aXR5S2V5TmFtZSk7CiAgICAgIH0KCiAgICAgIHRoaXMubG9hZGluZyA9IGxvYWRpbmc7CiAgICB9CiAgfSwgewogICAga2V5OiAic2V0RXJyb3IiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldEVycm9yKGVycm9yKSB7CiAgICAgIHRoaXMuZXJyb3IgPSBlcnJvcjsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJhc3NpZ25SZXNwb25zZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gYXNzaWduUmVzcG9uc2UocmVzcG9uc2UpIHsKICAgICAgdmFyIGlzU2VhcmNoUmVzdWx0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTsKICAgICAgdGhpcy5zZWFyY2hSZXN1bHRzID0gaXNTZWFyY2hSZXN1bHQ7CiAgICAgIHRoaXMubGlzdCA9IHJlc3BvbnNlLmRhdGEuX2VtYmVkZGVkW3RoaXMuZW50aXR5S2V5TmFtZV07CiAgICAgIHRoaXMucGFnZURhdGEgPSByZXNwb25zZS5kYXRhLnBhZ2U7CiAgICAgIHRoaXMucGFnZURhdGEubmV4dCA9IHJlc3BvbnNlLmRhdGEuX2xpbmtzLm5leHQgfHwge307CiAgICAgIHRoaXMucGFnZURhdGEucHJldmlvdXMgPSByZXNwb25zZS5kYXRhLl9saW5rcy5wcmV2IHx8IHt9OwogICAgfQogIH0sIHsKICAgIGtleTogIm5leHQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG5leHQoKSB7CiAgICAgIGlmICghdGhpcy5zZWFyY2hSZXN1bHRzKSB7CiAgICAgICAgaWYgKCEhdGhpcy5sb2FkRW50aXR5RnVuY3Rpb24pIHsKICAgICAgICAgIExvZy5pbmZvKCdMb2FkaW5nIE5leHQgJyArIHRoaXMuZW50aXR5S2V5TmFtZSArICcgLi4uJyk7CiAgICAgICAgICB0aGlzLmxvYWRFbnRpdHlGdW5jdGlvbih0aGlzLnBhZ2VEYXRhLm5leHQuaHJlZik7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIExvZy5pbmZvKCdTZWFyY2hpbmcgTmV4dCAnICsgdGhpcy5lbnRpdHlLZXlOYW1lICsgJyAuLi4nKTsKCiAgICAgICAgaWYgKCEhdGhpcy5zZWFyY2hFbnRpdHlGdW5jdGlvbikgewogICAgICAgICAgdGhpcy5zZWFyY2hFbnRpdHlGdW5jdGlvbih0aGlzLnNlYXJjaFF1ZXJ5LCB0aGlzLnBhZ2VEYXRhLm5leHQuaHJlZik7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAicHJldmlvdXMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHByZXZpb3VzKCkgewogICAgICBpZiAoIXRoaXMuc2VhcmNoUmVzdWx0cykgewogICAgICAgIGlmICghIXRoaXMubG9hZEVudGl0eUZ1bmN0aW9uKSB7CiAgICAgICAgICBMb2cuaW5mbygnTG9hZGluZyBQcmV2aW91cyAnICsgdGhpcy5lbnRpdHlLZXlOYW1lICsgJyAuLi4nKTsKICAgICAgICAgIHRoaXMubG9hZEVudGl0eUZ1bmN0aW9uKHRoaXMucGFnZURhdGEucHJldmlvdXMuaHJlZik7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIExvZy5pbmZvKCdTZWFyY2hpbmcgUHJldmlvdXMgJyArIHRoaXMuZW50aXR5S2V5TmFtZSArICcgLi4uJyk7CgogICAgICAgIGlmICghIXRoaXMuc2VhcmNoRW50aXR5RnVuY3Rpb24pIHsKICAgICAgICAgIHRoaXMuc2VhcmNoRW50aXR5RnVuY3Rpb24odGhpcy5zZWFyY2hRdWVyeSwgdGhpcy5wYWdlRGF0YS5wcmV2aW91cy5ocmVmKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJoYXNFbGVtZW50cyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaGFzRWxlbWVudHMoKSB7CiAgICAgIExvZy5pbmZvKCdUb3RhbCBFbGVtZW50czogJyArIHRoaXMucGFnZURhdGEudG90YWxFbGVtZW50cyk7CiAgICAgIHJldHVybiAhIXRoaXMucGFnZURhdGEudG90YWxFbGVtZW50czsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjYW5OZXh0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjYW5OZXh0KCkgewogICAgICByZXR1cm4gISF0aGlzLnBhZ2VEYXRhLm5leHQuaHJlZjsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjYW5QcmV2aW91cyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY2FuUHJldmlvdXMoKSB7CiAgICAgIHJldHVybiAhIXRoaXMucGFnZURhdGEucHJldmlvdXMuaHJlZjsKICAgIH0KICB9XSk7CgogIHJldHVybiBQYWdlRGF0YU1vZGVsOwp9KCk7CgpleHBvcnQgeyBQYWdlRGF0YU1vZGVsIGFzIGRlZmF1bHQgfTs="},{"version":3,"sources":["/Users/dduru/VSCode/OmarzeUI/src/components/core/PageDataModel.ts"],"names":[],"mappings":"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","sourcesContent":["import { Log, Util } from '../util';\nimport Constants from '../util/Constants';\n\n\nconst defaultPageData = {\n\n    next: {},\n\n    previous: {},\n\n    number: Constants.defaultPagination.page,\n\n    size: Constants.defaultPagination.size,\n\n    totalElements: 0,\n\n    totalPages: 0,\n\n};\n\n\nexport default class PageDataModel {\n\n    public loading: boolean = false;\n\n    public error: string = '';\n\n    public list: any = [];\n\n    public pageData: any = defaultPageData;\n\n    public searchResults: boolean = false;\n\n    public searchQuery: string = '';\n\n\n    constructor(\n        private entityKeyName: string, // string value used to extract entity from page response\n        public loadEntityFunction?: (url?: string) => void, // function to invoke to load entity\n        public searchEntityFunction?: (query: string, url?: string) => void // function to invoke when searching entity\n    ) { }\n\n\n    public initialize() {\n        if (!!this.loadEntityFunction) {\n            this.loadEntityFunction();\n        }\n    }\n\n\n    public clearPageData() {\n        this.pageData = defaultPageData;\n    }\n\n\n    public setLoading(loading: boolean) {\n        if (loading) {\n            this.error = '';\n            Log.info('Loading ' + this.entityKeyName);\n        }\n\n        this.loading = loading;\n    }\n\n\n    public setError(error: string) {\n        this.error = error;\n    }\n\n\n    public assignResponse(response: any, isSearchResult: boolean = false) {\n        this.searchResults = isSearchResult;\n        this.list = response.data._embedded[this.entityKeyName];\n        this.pageData = response.data.page;\n        this.pageData.next = response.data._links.next || {};\n        this.pageData.previous = response.data._links.prev || {};\n    }\n\n\n    public next() {\n        if (!this.searchResults) {\n            if (!!this.loadEntityFunction) {\n                Log.info('Loading Next ' + this.entityKeyName + ' ...');\n                this.loadEntityFunction(\n                    this.pageData.next.href\n                );\n            }\n        } else {\n            Log.info('Searching Next ' + this.entityKeyName + ' ...');\n            if (!!this.searchEntityFunction) {\n                this.searchEntityFunction(\n                    this.searchQuery, this.pageData.next.href\n                );\n            }\n        }\n    }\n\n\n    public previous() {\n        if (!this.searchResults) {\n            if (!!this.loadEntityFunction) {\n                Log.info('Loading Previous ' + this.entityKeyName + ' ...');\n                this.loadEntityFunction(\n                    this.pageData.previous.href\n                );\n            }\n        } else {\n            Log.info('Searching Previous ' + this.entityKeyName + ' ...');\n            if (!!this.searchEntityFunction) {\n                this.searchEntityFunction(\n                    this.searchQuery, this.pageData.previous.href\n                );\n            }\n        }\n    }\n\n\n    public hasElements(): boolean {\n        Log.info('Total Elements: ' + this.pageData.totalElements);\n        return !!this.pageData.totalElements;\n    }\n\n\n    public canNext(): boolean {\n        return !!this.pageData.next.href;\n    }\n\n\n    public canPrevious(): boolean {\n        return !!this.pageData.previous.href;\n    }\n\n\n}\n\n\n"],"sourceRoot":""}]}