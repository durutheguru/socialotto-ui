{"remainingRequest":"/Users/dduru/VSCode/OmarzeUI/node_modules/babel-loader/lib/index.js!/Users/dduru/VSCode/OmarzeUI/node_modules/ts-loader/index.js??ref--13-2!/Users/dduru/VSCode/OmarzeUI/src/vues/login/LoginComponent.ts","dependencies":[{"path":"/Users/dduru/VSCode/OmarzeUI/src/vues/login/LoginComponent.ts","mtime":1585521999904},{"path":"/Users/dduru/VSCode/OmarzeUI/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dduru/VSCode/OmarzeUI/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/dduru/VSCode/OmarzeUI/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMvZGR1cnUvVlNDb2RlL09tYXJ6ZVVJL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL1VzZXJzL2RkdXJ1L1ZTQ29kZS9PbWFyemVVSS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAiL1VzZXJzL2RkdXJ1L1ZTQ29kZS9PbWFyemVVSS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiI7CmltcG9ydCBfZ2V0UHJvdG90eXBlT2YgZnJvbSAiL1VzZXJzL2RkdXJ1L1ZTQ29kZS9PbWFyemVVSS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZ2V0UHJvdG90eXBlT2YiOwppbXBvcnQgX2luaGVyaXRzIGZyb20gIi9Vc2Vycy9kZHVydS9WU0NvZGUvT21hcnplVUkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzIjsKaW1wb3J0IHsgX19kZWNvcmF0ZSB9IGZyb20gInRzbGliIjsKaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAndnVlLXByb3BlcnR5LWRlY29yYXRvcic7CmltcG9ydCBCYXNlVnVlIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvQmFzZVZ1ZSc7CmltcG9ydCB7IExvZyB9IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvdXRpbCc7CmltcG9ydCAnLi4vLi4vY29tcG9uZW50cy91dGlsL1ZhbGlkYXRpb24nOwppbXBvcnQgVXNlckF1dGhDb250ZXh0IGZyb20gJ0AvY29tcG9uZW50cy9hdXRoL1VzZXJBdXRoQ29udGV4dCc7CmltcG9ydCBMb2dpblNlcnZpY2UgZnJvbSAnLi4vLi4vc2VydmljZXMvbG9naW4vTG9naW5TZXJ2aWNlJzsKaW1wb3J0IFdpdGhSZW5kZXIgZnJvbSAnLi9sb2dpbi5odG1sJzsKaW1wb3J0IHN0b3JlIGZyb20gJ0Avc3RvcmUnOwoKdmFyIExvZ2luQ29tcG9uZW50ID0KLyojX19QVVJFX18qLwpmdW5jdGlvbiAoX0Jhc2VWdWUpIHsKICBfaW5oZXJpdHMoTG9naW5Db21wb25lbnQsIF9CYXNlVnVlKTsKCiAgZnVuY3Rpb24gTG9naW5Db21wb25lbnQoKSB7CiAgICB2YXIgX3RoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExvZ2luQ29tcG9uZW50KTsKCiAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9nZXRQcm90b3R5cGVPZihMb2dpbkNvbXBvbmVudCkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7CiAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICBfdGhpcy51c2VybmFtZSA9ICcnOwogICAgX3RoaXMucGFzc3dvcmQgPSAnJzsKICAgIF90aGlzLmxvZ2luRXJyb3IgPSAnJzsKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhMb2dpbkNvbXBvbmVudCwgW3sKICAgIGtleTogImRvTG9naW4iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGRvTG9naW4oKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgdGhpcy5sb2dpbkVycm9yID0gJyc7CiAgICAgIExvZ2luU2VydmljZS5pbml0aWF0ZSh7CiAgICAgICAgdXNlcm5hbWU6IHRoaXMudXNlcm5hbWUsCiAgICAgICAgcGFzc3dvcmQ6IHRoaXMucGFzc3dvcmQKICAgICAgfSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMyLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICBzdG9yZS5jb21taXQoJ2F1dGhUb2tlbi9hcGlUb2tlbicsIHJlc3BvbnNlLmhlYWRlcnMuYXV0aG9yaXphdGlvbik7CgogICAgICAgIF90aGlzMi4kcm91dGVyLnB1c2goewogICAgICAgICAgcGF0aDogVXNlckF1dGhDb250ZXh0LmdldEluc3RhbmNlKCkuaG9tZVVybCgpCiAgICAgICAgfSk7CgogICAgICAgIExvZy5pbmZvKCdMb2dnZWQgSW46ICcgKyBKU09OLnN0cmluZ2lmeShyZXNwb25zZSkpOwogICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBfdGhpczIubG9hZGluZyA9IGZhbHNlOwoKICAgICAgICBfdGhpczIuZXh0cmFjdEVycm9yKGVycm9yKTsKCiAgICAgICAgTG9nLmVycm9yKCdMb2dnZWQgRXJyb3I6ICcgKyBKU09OLnN0cmluZ2lmeShlcnJvcikpOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJleHRyYWN0RXJyb3IiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGV4dHJhY3RFcnJvcihlcnJvcikgewogICAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2Uuc3RhdHVzID09PSA0MDEpIHsKICAgICAgICAgIHRoaXMubG9naW5FcnJvciA9ICdJbnZhbGlkIFVzZXJuYW1lIC8gUGFzc3dvcmQnOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0gZWxzZSBpZiAoZXJyb3IucmVzcG9uc2Uuc3RhdHVzID09PSAwKSB7CiAgICAgICAgICB0aGlzLmxvZ2luRXJyb3IgPSAnQ2Fubm90IFJlYWNoIFNlcnZlcic7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICB9CgogICAgICB0aGlzLmxvZ2luRXJyb3IgPSAnVW5rbm93biBFcnJvciBPY2N1cnJlZCc7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gTG9naW5Db21wb25lbnQ7Cn0oQmFzZVZ1ZSk7CgpMb2dpbkNvbXBvbmVudCA9IF9fZGVjb3JhdGUoW1dpdGhSZW5kZXIsIENvbXBvbmVudF0sIExvZ2luQ29tcG9uZW50KTsKZXhwb3J0IGRlZmF1bHQgTG9naW5Db21wb25lbnQ7"},{"version":3,"sources":["/Users/dduru/VSCode/OmarzeUI/src/vues/login/LoginComponent.ts"],"names":[],"mappings":";;;;;;AAAA,SAAS,SAAT,QAA0B,wBAA1B;AAEA,OAAO,OAAP,MAAoB,0BAApB;AACA,SAAS,GAAT,QAAoB,uBAApB;AACA,OAAO,kCAAP;AACA,OAAO,eAAP,MAA4B,mCAA5B;AAEA,OAAO,YAAP,MAAyB,mCAAzB;AAEA,OAAO,UAAP,MAAuB,cAAvB;AACA,OAAO,KAAP,MAAkB,SAAlB;;AAKA,IAAqB,cAArB;AAAA;AAAA;AAAA;;AAAA,4BAAA;AAAA;;AAAA;;;AAEY,UAAA,OAAA,GAAmB,KAAnB;AAEA,UAAA,QAAA,GAAmB,EAAnB;AAEA,UAAA,QAAA,GAAmB,EAAnB;AAEA,UAAA,UAAA,GAAqB,EAArB;AARZ;AAoDC;;AApDD;AAAA;AAAA,8BAWmB;AAAA;;AACX,WAAK,OAAL,GAAe,IAAf;AACA,WAAK,UAAL,GAAkB,EAAlB;AAEA,MAAA,YAAY,CAAC,QAAb,CACI;AACI,QAAA,QAAQ,EAAE,KAAK,QADnB;AAEI,QAAA,QAAQ,EAAE,KAAK;AAFnB,OADJ,EAMI,UAAC,QAAD,EAAkB;AACd,QAAA,MAAI,CAAC,OAAL,GAAe,KAAf;AACA,QAAA,KAAK,CAAC,MAAN,CAAa,oBAAb,EAAmC,QAAQ,CAAC,OAAT,CAAiB,aAApD;;AACA,QAAA,MAAI,CAAC,OAAL,CAAa,IAAb,CAAkB;AAAC,UAAA,IAAI,EAAE,eAAe,CAAC,WAAhB,GAA8B,OAA9B;AAAP,SAAlB;;AACA,QAAA,GAAG,CAAC,IAAJ,CAAS,gBAAgB,IAAI,CAAC,SAAL,CAAe,QAAf,CAAzB;AACH,OAXL,EAaI,UAAC,KAAD,EAAe;AACX,QAAA,MAAI,CAAC,OAAL,GAAe,KAAf;;AACA,QAAA,MAAI,CAAC,YAAL,CAAkB,KAAlB;;AACA,QAAA,GAAG,CAAC,KAAJ,CAAU,mBAAmB,IAAI,CAAC,SAAL,CAAe,KAAf,CAA7B;AACH,OAjBL;AAmBH;AAlCL;AAAA;AAAA,iCAqCyB,KArCzB,EAqCmC;AAC3B,UAAI,KAAK,CAAC,QAAV,EAAoB;AAChB,YAAI,KAAK,CAAC,QAAN,CAAe,MAAf,KAA0B,GAA9B,EAAmC;AAC/B,eAAK,UAAL,GAAkB,6BAAlB;AACA;AACH,SAHD,MAGO,IAAI,KAAK,CAAC,QAAN,CAAe,MAAf,KAA0B,CAA9B,EAAiC;AACpC,eAAK,UAAL,GAAkB,qBAAlB;AACA;AACH;AACJ;;AAED,WAAK,UAAL,GAAkB,wBAAlB;AACH;AAjDL;;AAAA;AAAA,EAA4C,OAA5C,CAAA;;AAAqB,cAAc,GAAA,UAAA,CAAA,CAFlC,UAEkC,EADlC,SACkC,CAAA,EAAd,cAAc,CAAd;eAAA,c","sourcesContent":["import { Component } from 'vue-property-decorator';\n\nimport BaseVue from '../../components/BaseVue';\nimport { Log } from '../../components/util';\nimport '../../components/util/Validation';\nimport UserAuthContext from '@/components/auth/UserAuthContext';\n\nimport LoginService from '../../services/login/LoginService';\n\nimport WithRender from './login.html';\nimport store from '@/store';\n\n\n@WithRender\n@Component\nexport default class LoginComponent extends BaseVue {\n\n    private loading: boolean = false;\n\n    private username: string = '';\n\n    private password: string = '';\n\n    private loginError: string = '';\n\n\n    private doLogin() {\n        this.loading = true;\n        this.loginError = '';\n\n        LoginService.initiate(\n            {\n                username: this.username,\n                password: this.password,\n            },\n\n            (response: any) => {\n                this.loading = false;\n                store.commit('authToken/apiToken', response.headers.authorization);\n                this.$router.push({path: UserAuthContext.getInstance().homeUrl()});\n                Log.info('Logged In: ' + JSON.stringify(response));\n            },\n\n            (error: any) => {\n                this.loading = false;\n                this.extractError(error);\n                Log.error('Logged Error: ' + JSON.stringify(error));\n            },\n        );\n    }\n\n\n    private extractError(error: any) {\n        if (error.response) {\n            if (error.response.status === 401) {\n                this.loginError = 'Invalid Username / Password';\n                return;\n            } else if (error.response.status === 0) {\n                this.loginError = 'Cannot Reach Server';\n                return;\n            }\n        }\n\n        this.loginError = 'Unknown Error Occurred';\n    }\n\n\n}\n"],"sourceRoot":""}]}