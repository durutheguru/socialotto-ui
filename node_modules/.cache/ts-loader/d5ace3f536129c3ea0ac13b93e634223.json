{"remainingRequest":"/Users/dduru/VSCode/OmarzeUI/node_modules/babel-loader/lib/index.js!/Users/dduru/VSCode/OmarzeUI/node_modules/ts-loader/index.js??ref--13-2!/Users/dduru/VSCode/OmarzeUI/src/interceptors/InterceptorRegistry.ts","dependencies":[{"path":"/Users/dduru/VSCode/OmarzeUI/src/interceptors/InterceptorRegistry.ts","mtime":1589414428003},{"path":"/Users/dduru/VSCode/OmarzeUI/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dduru/VSCode/OmarzeUI/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/dduru/VSCode/OmarzeUI/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIi9Vc2Vycy9kZHVydS9WU0NvZGUvT21hcnplVUkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICIvVXNlcnMvZGR1cnUvVlNDb2RlL09tYXJ6ZVVJL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBNb2NrQWRhcHRlciBmcm9tICdheGlvcy1tb2NrLWFkYXB0ZXInOwppbXBvcnQgTG9nIGZyb20gJ0AvY29tcG9uZW50cy91dGlsL0xvZyc7Cgp2YXIgSW50ZXJjZXB0b3JSZWdpc3RyeSA9Ci8qI19fUFVSRV9fKi8KZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIEludGVyY2VwdG9yUmVnaXN0cnkoKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSW50ZXJjZXB0b3JSZWdpc3RyeSk7CiAgfQoKICBfY3JlYXRlQ2xhc3MoSW50ZXJjZXB0b3JSZWdpc3RyeSwgbnVsbCwgW3sKICAgIGtleTogInJlZ2lzdGVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZWdpc3RlcihpbnRlcmNlcHRvcikgewogICAgICBpZiAoIXByb2Nlc3MuZW52LlZVRV9BUFBfRU5BQkxFX0lOVEVSQ0VQVE9SUykgewogICAgICAgIExvZy5pbmZvKCdJbnRlcmNlcHRvcnMgZGlzYWJsZWQuIElnbm9yaW5nIEludGVyY2VwdG9yIHJlZ2lzdHJhdGlvbi4nKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTsKICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7CiAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gaW50ZXJjZXB0b3IuaW50ZXJjZXB0Q29uZmlnc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHsKICAgICAgICAgIHZhciBjb25maWcgPSBfc3RlcC52YWx1ZTsKCiAgICAgICAgICBzd2l0Y2ggKGNvbmZpZy5tZXRob2QpIHsKICAgICAgICAgICAgY2FzZSAnR0VUJzoKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBMb2cuaW5mbygnUmVnaXN0ZXJpbmcgR0VUIGhhbmRsZXIgZm9yICcgKyBJbnRlcmNlcHRvclJlZ2lzdHJ5LkJBU0VfVVJMICsgY29uZmlnLnVybCk7CiAgICAgICAgICAgICAgICBJbnRlcmNlcHRvclJlZ2lzdHJ5Lm1vY2sub25HZXQoSW50ZXJjZXB0b3JSZWdpc3RyeS5CQVNFX1VSTCArIGNvbmZpZy51cmwpLnJlcGx5KGNvbmZpZy5yZXNwb25zZS5zdGF0dXMsIGNvbmZpZy5yZXNwb25zZS5ib2R5LCBjb25maWcucmVzcG9uc2UuaGVhZGVycyk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICBjYXNlICdQT1NUJzoKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBMb2cuaW5mbygnUmVnaXN0ZXJpbmcgUE9TVCBoYW5kbGVyIGZvciAnICsgSW50ZXJjZXB0b3JSZWdpc3RyeS5CQVNFX1VSTCArIGNvbmZpZy51cmwpOwogICAgICAgICAgICAgICAgSW50ZXJjZXB0b3JSZWdpc3RyeS5tb2NrLm9uUG9zdChJbnRlcmNlcHRvclJlZ2lzdHJ5LkJBU0VfVVJMICsgY29uZmlnLnVybCkucmVwbHkoY29uZmlnLnJlc3BvbnNlLnN0YXR1cywgY29uZmlnLnJlc3BvbnNlLmJvZHksIGNvbmZpZy5yZXNwb25zZS5oZWFkZXJzKTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTsKICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICB0cnkgewogICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4gIT0gbnVsbCkgewogICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7CiAgICAgICAgICB9CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikgewogICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHRoaXMuaW50ZXJjZXB0b3JzLnB1c2goaW50ZXJjZXB0b3IpOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIEludGVyY2VwdG9yUmVnaXN0cnk7Cn0oKTsKCmV4cG9ydCB7IEludGVyY2VwdG9yUmVnaXN0cnkgYXMgZGVmYXVsdCB9OwpJbnRlcmNlcHRvclJlZ2lzdHJ5LmludGVyY2VwdG9ycyA9IFtdOwpJbnRlcmNlcHRvclJlZ2lzdHJ5LkJBU0VfVVJMID0gcHJvY2Vzcy5lbnYuVlVFX0FQUF9CQVNFX1VSTDsKSW50ZXJjZXB0b3JSZWdpc3RyeS5tb2NrID0gbmV3IE1vY2tBZGFwdGVyKGF4aW9zLCB7CiAgb25Ob01hdGNoOiAncGFzc3Rocm91Z2gnCn0pOw=="},{"version":3,"sources":["/Users/dduru/VSCode/OmarzeUI/src/interceptors/InterceptorRegistry.ts"],"names":[],"mappings":";;;;;;;;AAAA,OAAO,KAAP,MAAqE,OAArE;AACA,OAAO,WAAP,MAAwB,oBAAxB;AAEA,OAAO,GAAP,MAAgB,uBAAhB;;IAIqB,mB;;;;;;;;;6BASM,W,EAAyB;AAC5C,UAAI,CAAC,OAAO,CAAC,GAAR,CAAY,2BAAjB,EAA8C;AAC1C,QAAA,GAAG,CAAC,IAAJ,CAAS,2DAAT;AACA;AACH;;AAJ2C;AAAA;AAAA;;AAAA;AAM5C,6BAAqB,WAAW,CAAC,gBAAjC,8HAAmD;AAAA,cAAxC,MAAwC;;AAC/C,kBAAQ,MAAM,CAAC,MAAf;AACI,iBAAK,KAAL;AAAY;AACR,gBAAA,GAAG,CAAC,IAAJ,CAAS,iCAAiC,mBAAmB,CAAC,QAArD,GAAgE,MAAM,CAAC,GAAhF;AACA,gBAAA,mBAAmB,CAAC,IAApB,CACK,KADL,CACW,mBAAmB,CAAC,QAApB,GAA+B,MAAM,CAAC,GADjD,EAEK,KAFL,CAGQ,MAAM,CAAC,QAAP,CAAgB,MAHxB,EAIQ,MAAM,CAAC,QAAP,CAAgB,IAJxB,EAKQ,MAAM,CAAC,QAAP,CAAgB,OALxB;AAOA;AACH;;AAED,iBAAK,MAAL;AAAa;AACT,gBAAA,GAAG,CAAC,IAAJ,CAAS,kCAAkC,mBAAmB,CAAC,QAAtD,GAAiE,MAAM,CAAC,GAAjF;AACA,gBAAA,mBAAmB,CAAC,IAApB,CACK,MADL,CACY,mBAAmB,CAAC,QAApB,GAA+B,MAAM,CAAC,GADlD,EAEK,KAFL,CAGQ,MAAM,CAAC,QAAP,CAAgB,MAHxB,EAIQ,MAAM,CAAC,QAAP,CAAgB,IAJxB,EAKQ,MAAM,CAAC,QAAP,CAAgB,OALxB;AAOA;AACH;AAvBL;AAyBH;AAhC2C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAkC5C,WAAK,YAAL,CAAkB,IAAlB,CAAuB,WAAvB;AACH;;;;;;SA5CgB,mB;AAEH,mBAAA,CAAA,YAAA,GAA+B,EAA/B;AAEA,mBAAA,CAAA,QAAA,GAAmB,OAAO,CAAC,GAAR,CAAY,gBAA/B;AAEC,mBAAA,CAAA,IAAA,GAAoB,IAAI,WAAJ,CAAgB,KAAhB,EAAuB;AAAE,EAAA,SAAS,EAAE;AAAb,CAAvB,CAApB","sourcesContent":["import axios, { AxiosResponse, AxiosRequestConfig, AxiosError } from 'axios';\nimport MockAdapter from 'axios-mock-adapter';\n\nimport Log from '@/components/util/Log';\nimport IInterceptor from './IInterceptor';\n\n\nexport default class InterceptorRegistry {\n\n    public static interceptors: IInterceptor[] = [];\n\n    public static BASE_URL: string = process.env.VUE_APP_BASE_URL;\n\n    private static mock: MockAdapter = new MockAdapter(axios, { onNoMatch: 'passthrough' });\n\n\n    public static register(interceptor: IInterceptor) {\n        if (!process.env.VUE_APP_ENABLE_INTERCEPTORS) {\n            Log.info('Interceptors disabled. Ignoring Interceptor registration.');\n            return;\n        }\n\n        for (const config of interceptor.interceptConfigs) {\n            switch (config.method) {\n                case 'GET': {\n                    Log.info('Registering GET handler for ' + InterceptorRegistry.BASE_URL + config.url);\n                    InterceptorRegistry.mock\n                        .onGet(InterceptorRegistry.BASE_URL + config.url)\n                        .reply(\n                            config.response.status, \n                            config.response.body,\n                            config.response.headers\n                        );\n                    break;\n                }\n\n                case 'POST': {\n                    Log.info('Registering POST handler for ' + InterceptorRegistry.BASE_URL + config.url);\n                    InterceptorRegistry.mock\n                        .onPost(InterceptorRegistry.BASE_URL + config.url)\n                        .reply(\n                            config.response.status, \n                            config.response.body,\n                            config.response.headers\n                        );\n                    break;\n                }\n            }\n        }\n\n        this.interceptors.push(interceptor);\n    }\n\n\n}\n\n"],"sourceRoot":""}]}