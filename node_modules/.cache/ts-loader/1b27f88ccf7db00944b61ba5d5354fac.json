{"remainingRequest":"/Users/dduru/VSCode/OmarzeUI/node_modules/babel-loader/lib/index.js!/Users/dduru/VSCode/OmarzeUI/node_modules/ts-loader/index.js??ref--13-2!/Users/dduru/VSCode/OmarzeUI/src/vues/backoffice/vues/users/backoffice-users/dialog/new-user/CreateBackOfficeUserDialog.ts","dependencies":[{"path":"/Users/dduru/VSCode/OmarzeUI/src/vues/backoffice/vues/users/backoffice-users/dialog/new-user/CreateBackOfficeUserDialog.ts","mtime":1589586851530},{"path":"/Users/dduru/VSCode/OmarzeUI/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dduru/VSCode/OmarzeUI/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/dduru/VSCode/OmarzeUI/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMvZGR1cnUvVlNDb2RlL09tYXJ6ZVVJL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL1VzZXJzL2RkdXJ1L1ZTQ29kZS9PbWFyemVVSS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAiL1VzZXJzL2RkdXJ1L1ZTQ29kZS9PbWFyemVVSS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiI7CmltcG9ydCBfZ2V0UHJvdG90eXBlT2YgZnJvbSAiL1VzZXJzL2RkdXJ1L1ZTQ29kZS9PbWFyemVVSS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZ2V0UHJvdG90eXBlT2YiOwppbXBvcnQgX2luaGVyaXRzIGZyb20gIi9Vc2Vycy9kZHVydS9WU0NvZGUvT21hcnplVUkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzIjsKaW1wb3J0IHsgX19kZWNvcmF0ZSB9IGZyb20gInRzbGliIjsKaW1wb3J0IFdpdGhSZW5kZXIgZnJvbSAnLi9jcmVhdGUtYmFjay1vZmZpY2UtdXNlci1kaWFsb2cuaHRtbCc7CmltcG9ydCB7IENvbXBvbmVudCwgUHJvcCB9IGZyb20gJ3Z1ZS1wcm9wZXJ0eS1kZWNvcmF0b3InOwppbXBvcnQgTW9kYWwgZnJvbSAnQC9jb21wb25lbnRzL21vZGFsL01vZGFsJzsKaW1wb3J0IEJhc2VWdWUgZnJvbSAnQC9jb21wb25lbnRzL0Jhc2VWdWUnOwppbXBvcnQgeyBMb2csIENvbnN0YW50cyB9IGZyb20gJ0AvY29tcG9uZW50cy91dGlsJzsKaW1wb3J0IEJhY2tPZmZpY2VVc2VyU2VydmljZSBmcm9tICdAL3NlcnZpY2VzL3VzZXJzL0JhY2tPZmZpY2VVc2VyU2VydmljZSc7Cgp2YXIgQ3JlYXRlQmFja09mZmljZVVzZXJEaWFsb2cgPQovKiNfX1BVUkVfXyovCmZ1bmN0aW9uIChfQmFzZVZ1ZSkgewogIF9pbmhlcml0cyhDcmVhdGVCYWNrT2ZmaWNlVXNlckRpYWxvZywgX0Jhc2VWdWUpOwoKICBmdW5jdGlvbiBDcmVhdGVCYWNrT2ZmaWNlVXNlckRpYWxvZygpIHsKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ3JlYXRlQmFja09mZmljZVVzZXJEaWFsb2cpOwoKICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKENyZWF0ZUJhY2tPZmZpY2VVc2VyRGlhbG9nKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTsKICAgIF90aGlzLmVycm9yID0gJyc7CiAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICByZXR1cm4gX3RoaXM7CiAgfQoKICBfY3JlYXRlQ2xhc3MoQ3JlYXRlQmFja09mZmljZVVzZXJEaWFsb2csIFt7CiAgICBrZXk6ICJtb3VudGVkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgICB0aGlzLnVzZXIgPSB7CiAgICAgICAgbmFtZTogJycsCiAgICAgICAgZW1haWw6ICcnLAogICAgICAgIHVzZXJuYW1lOiAnJywKICAgICAgICBwYXNzd29yZDogJycsCiAgICAgICAgY29uZmlybVBhc3N3b3JkOiAnJwogICAgICB9OwogICAgfQogIH0sIHsKICAgIGtleTogImNyZWF0ZVVzZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZVVzZXIoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5lcnJvciA9ICcnOwoKICAgICAgaWYgKCF0aGlzLnZhbGlkYXRlVXNlck1vZGVsKCkpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIEJhY2tPZmZpY2VVc2VyU2VydmljZS5jcmVhdGVCYWNrT2ZmaWNlVXNlcih0aGlzLnVzZXIsIGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzMi5jbG9zZSgpOwogICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBMb2cuZXJyb3IoJ0Vycm9yIG9jY3VycmVkOiAnICsgSlNPTi5zdHJpbmdpZnkoZXJyb3IpKTsKICAgICAgICBfdGhpczIubG9hZGluZyA9IGZhbHNlOwogICAgICAgIF90aGlzMi5lcnJvciA9IF90aGlzMi5leHRyYWN0RXJyb3IoZXJyb3IpOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ2YWxpZGF0ZVVzZXJNb2RlbCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsaWRhdGVVc2VyTW9kZWwoKSB7CiAgICAgIGlmICh0aGlzLnVzZXIucGFzc3dvcmQgIT09IHRoaXMudXNlci5jb25maXJtUGFzc3dvcmQpIHsKICAgICAgICB0aGlzLmVycm9yID0gJ1BsZWFzZSBjb25maXJtIHBhc3N3b3JkJzsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIHJldHVybiB0cnVlOwogICAgfQogIH0sIHsKICAgIGtleTogImNsb3NlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjbG9zZSgpIHsKICAgICAgdGhpcy4kZW1pdChDb25zdGFudHMuZGlhbG9nQ2xvc2VkRXZlbnQpOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIENyZWF0ZUJhY2tPZmZpY2VVc2VyRGlhbG9nOwp9KEJhc2VWdWUpOwoKX19kZWNvcmF0ZShbUHJvcCh7CiAgZGVmYXVsdDogZmFsc2UKfSldLCBDcmVhdGVCYWNrT2ZmaWNlVXNlckRpYWxvZy5wcm90b3R5cGUsICJ2aXNpYmxlIiwgdm9pZCAwKTsKCkNyZWF0ZUJhY2tPZmZpY2VVc2VyRGlhbG9nID0gX19kZWNvcmF0ZShbV2l0aFJlbmRlciwgQ29tcG9uZW50KHsKICBjb21wb25lbnRzOiB7CiAgICBNb2RhbDogTW9kYWwKICB9Cn0pXSwgQ3JlYXRlQmFja09mZmljZVVzZXJEaWFsb2cpOwpleHBvcnQgZGVmYXVsdCBDcmVhdGVCYWNrT2ZmaWNlVXNlckRpYWxvZzs="},{"version":3,"sources":["/Users/dduru/VSCode/OmarzeUI/src/vues/backoffice/vues/users/backoffice-users/dialog/new-user/CreateBackOfficeUserDialog.ts"],"names":[],"mappings":";;;;;;AACA,OAAO,UAAP,MAAuB,uCAAvB;AACA,SAAS,SAAT,EAAoB,IAApB,QAAgC,wBAAhC;AAEA,OAAO,KAAP,MAAkB,0BAAlB;AACA,OAAO,OAAP,MAAoB,sBAApB;AACA,SAAS,GAAT,EAAc,SAAd,QAA+B,mBAA/B;AACA,OAAO,qBAAP,MAAkC,wCAAlC;;AAUA,IAAqB,0BAArB;AAAA;AAAA;AAAA;;AAAA,wCAAA;AAAA;;AAAA;;;AAOY,UAAA,KAAA,GAAgB,EAAhB;AAGA,UAAA,OAAA,GAAmB,KAAnB;AAVZ;AAmEC;;AAnED;AAAA;AAAA,8BAgBkB;AACV,WAAK,IAAL,GAAY;AACR,QAAA,IAAI,EAAE,EADE;AAER,QAAA,KAAK,EAAE,EAFC;AAGR,QAAA,QAAQ,EAAE,EAHF;AAIR,QAAA,QAAQ,EAAE,EAJF;AAKR,QAAA,eAAe,EAAE;AALT,OAAZ;AAOH;AAxBL;AAAA;AAAA,iCA2BqB;AAAA;;AACb,WAAK,KAAL,GAAa,EAAb;;AAEA,UAAI,CAAC,KAAK,iBAAL,EAAL,EAA+B;AAC3B;AACH;;AAED,WAAK,OAAL,GAAe,IAAf;AAEA,MAAA,qBAAqB,CAAC,oBAAtB,CACI,KAAK,IADT,EAGI,UAAC,QAAD,EAAkB;AACd,QAAA,MAAI,CAAC,KAAL;AACH,OALL,EAOI,UAAC,KAAD,EAAe;AACX,QAAA,GAAG,CAAC,KAAJ,CAAU,qBAAqB,IAAI,CAAC,SAAL,CAAe,KAAf,CAA/B;AACA,QAAA,MAAI,CAAC,OAAL,GAAe,KAAf;AACA,QAAA,MAAI,CAAC,KAAL,GAAa,MAAI,CAAC,YAAL,CAAkB,KAAlB,CAAb;AACH,OAXL;AAaH;AAjDL;AAAA;AAAA,wCAoD4B;AACpB,UAAI,KAAK,IAAL,CAAU,QAAV,KAAuB,KAAK,IAAL,CAAU,eAArC,EAAsD;AAClD,aAAK,KAAL,GAAa,yBAAb;AACA,eAAO,KAAP;AACH;;AAED,aAAO,IAAP;AACH;AA3DL;AAAA;AAAA,4BA8DgB;AACR,WAAK,KAAL,CAAW,SAAS,CAAC,iBAArB;AACH;AAhEL;;AAAA;AAAA,EAAwD,OAAxD,CAAA;;AAII,UAAA,CAAA,CADC,IAAI,CAAC;AAAC,EAAA,OAAO,EAAE;AAAV,CAAD,CACL,CAAA,E,oCAAA,E,SAAA,E,KAA0B,CAA1B,CAAA;;AAJiB,0BAA0B,GAAA,UAAA,CAAA,CAN9C,UAM8C,EAL9C,SAAS,CAAC;AACP,EAAA,UAAU,EAAE;AACR,IAAA,KAAK,EAAL;AADQ;AADL,CAAD,CAKqC,CAAA,EAA1B,0BAA0B,CAA1B;eAAA,0B","sourcesContent":["\nimport WithRender from './create-back-office-user-dialog.html';\nimport { Component, Prop } from 'vue-property-decorator';\n\nimport Modal from '@/components/modal/Modal';\nimport BaseVue from '@/components/BaseVue';\nimport { Log, Constants } from '@/components/util';\nimport BackOfficeUserService from '@/services/users/BackOfficeUserService';\n\n\n\n@WithRender\n@Component({\n    components: {\n        Modal,\n    },\n})\nexport default class CreateBackOfficeUserDialog extends BaseVue {\n\n\n    @Prop({default: false})\n    private visible!: boolean;\n\n\n    private error: string = '';\n\n\n    private loading: boolean = false;\n\n\n    private user!: any;\n\n\n    public mounted() {\n        this.user = {\n            name: '',\n            email: '',\n            username: '',\n            password: '',\n            confirmPassword: '',\n        };\n    }\n\n\n    public createUser() {\n        this.error = '';\n\n        if (!this.validateUserModel()) {\n            return;\n        }\n\n        this.loading = true;\n\n        BackOfficeUserService.createBackOfficeUser(\n            this.user,\n\n            (response: any) => {\n                this.close();\n            },\n\n            (error: any) => {\n                Log.error('Error occurred: ' + JSON.stringify(error));\n                this.loading = false;\n                this.error = this.extractError(error);\n            }\n        );\n    }\n\n\n    public validateUserModel() {\n        if (this.user.password !== this.user.confirmPassword) {\n            this.error = 'Please confirm password';\n            return false;\n        }\n\n        return true;\n    }\n\n\n    public close() {\n        this.$emit(Constants.dialogClosedEvent);\n    }\n\n\n}\n\n"],"sourceRoot":""}]}