{"remainingRequest":"/Users/dduru/VSCode/OmarzeUI/node_modules/babel-loader/lib/index.js!/Users/dduru/VSCode/OmarzeUI/node_modules/ts-loader/index.js??ref--13-2!/Users/dduru/VSCode/OmarzeUI/src/vues/login/LoginComponent.ts","dependencies":[{"path":"/Users/dduru/VSCode/OmarzeUI/src/vues/login/LoginComponent.ts","mtime":1585503080859},{"path":"/Users/dduru/VSCode/OmarzeUI/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dduru/VSCode/OmarzeUI/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/dduru/VSCode/OmarzeUI/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMvZGR1cnUvVlNDb2RlL09tYXJ6ZVVJL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL1VzZXJzL2RkdXJ1L1ZTQ29kZS9PbWFyemVVSS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAiL1VzZXJzL2RkdXJ1L1ZTQ29kZS9PbWFyemVVSS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiI7CmltcG9ydCBfZ2V0UHJvdG90eXBlT2YgZnJvbSAiL1VzZXJzL2RkdXJ1L1ZTQ29kZS9PbWFyemVVSS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZ2V0UHJvdG90eXBlT2YiOwppbXBvcnQgX2luaGVyaXRzIGZyb20gIi9Vc2Vycy9kZHVydS9WU0NvZGUvT21hcnplVUkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzIjsKaW1wb3J0IHsgX19kZWNvcmF0ZSB9IGZyb20gInRzbGliIjsKaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAndnVlLXByb3BlcnR5LWRlY29yYXRvcic7CmltcG9ydCB7IHJlcXVpcmVkIH0gZnJvbSAndnVlbGlkYXRlL2xpYi92YWxpZGF0b3JzJzsKaW1wb3J0IEJhc2VWdWUgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9CYXNlVnVlJzsKaW1wb3J0IHsgTG9nIH0gZnJvbSAnLi4vLi4vY29tcG9uZW50cy91dGlsJzsKaW1wb3J0IExvZ2luU2VydmljZSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9sb2dpbi9Mb2dpblNlcnZpY2UnOwppbXBvcnQgV2l0aFJlbmRlciBmcm9tICcuL2xvZ2luLmh0bWwnOwppbXBvcnQgc3RvcmUgZnJvbSAnQC9zdG9yZSc7Cgp2YXIgTG9naW5Db21wb25lbnQgPQovKiNfX1BVUkVfXyovCmZ1bmN0aW9uIChfQmFzZVZ1ZSkgewogIF9pbmhlcml0cyhMb2dpbkNvbXBvbmVudCwgX0Jhc2VWdWUpOwoKICBmdW5jdGlvbiBMb2dpbkNvbXBvbmVudCgpIHsKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTG9naW5Db21wb25lbnQpOwoKICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKExvZ2luQ29tcG9uZW50KS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTsKICAgIF90aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgIF90aGlzLnVzZXJuYW1lID0gJyc7CiAgICBfdGhpcy5wYXNzd29yZCA9ICcnOwogICAgX3RoaXMubG9naW5FcnJvciA9ICcnOwogICAgcmV0dXJuIF90aGlzOwogIH0KCiAgX2NyZWF0ZUNsYXNzKExvZ2luQ29tcG9uZW50LCBbewogICAga2V5OiAidmFsaWRhdGlvbnMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHZhbGlkYXRpb25zKCkgewogICAgICByZXR1cm4gewogICAgICAgIHVzZXJuYW1lOiB7CiAgICAgICAgICByZXF1aXJlZDogcmVxdWlyZWQKICAgICAgICB9LAogICAgICAgIHBhc3N3b3JkOiB7CiAgICAgICAgICByZXF1aXJlZDogcmVxdWlyZWQKICAgICAgICB9CiAgICAgIH07CiAgICB9CiAgfSwgewogICAga2V5OiAiZG9Mb2dpbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZG9Mb2dpbigpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICB0aGlzLmxvZ2luRXJyb3IgPSAnJzsKICAgICAgTG9naW5TZXJ2aWNlLmluaXRpYXRlKHsKICAgICAgICB1c2VybmFtZTogdGhpcy51c2VybmFtZSwKICAgICAgICBwYXNzd29yZDogdGhpcy5wYXNzd29yZAogICAgICB9LCBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczIubG9hZGluZyA9IGZhbHNlOwogICAgICAgIHN0b3JlLmNvbW1pdCgnYXV0aFRva2VuL2FwaVRva2VuJywgcmVzcG9uc2UuaGVhZGVycy5hdXRob3JpemF0aW9uKTsKCiAgICAgICAgX3RoaXMyLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICBwYXRoOiAnL2JhY2stb2ZmaWNlJwogICAgICAgIH0pOwoKICAgICAgICBMb2cuaW5mbygnTG9nZ2VkIEluOiAnICsgSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UpKTsKICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgX3RoaXMyLmxvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgX3RoaXMyLmV4dHJhY3RFcnJvcihlcnJvcik7CgogICAgICAgIExvZy5lcnJvcignTG9nZ2VkIEVycm9yOiAnICsgSlNPTi5zdHJpbmdpZnkoZXJyb3IpKTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZXh0cmFjdEVycm9yIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBleHRyYWN0RXJyb3IoZXJyb3IpIHsKICAgICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDAxKSB7CiAgICAgICAgICB0aGlzLmxvZ2luRXJyb3IgPSAnSW52YWxpZCBVc2VybmFtZSAvIFBhc3N3b3JkJzsKICAgICAgICB9IGVsc2UgaWYgKGVycm9yLnJlc3BvbnNlLnN0YXR1cyA9PT0gMCkgewogICAgICAgICAgdGhpcy5sb2dpbkVycm9yID0gJ0Nhbm5vdCBSZWFjaCBTZXJ2ZXInOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmxvZ2luRXJyb3IgPSAnVW5rbm93biBFcnJvciBPY2N1cnJlZCc7CiAgICAgIH0KICAgIH0KICB9XSk7CgogIHJldHVybiBMb2dpbkNvbXBvbmVudDsKfShCYXNlVnVlKTsKCkxvZ2luQ29tcG9uZW50ID0gX19kZWNvcmF0ZShbV2l0aFJlbmRlciwgQ29tcG9uZW50XSwgTG9naW5Db21wb25lbnQpOwpleHBvcnQgZGVmYXVsdCBMb2dpbkNvbXBvbmVudDs="},{"version":3,"sources":["/Users/dduru/VSCode/OmarzeUI/src/vues/login/LoginComponent.ts"],"names":[],"mappings":";;;;;;AAAA,SAAS,SAAT,QAA0B,wBAA1B;AACA,SAAS,QAAT,QAAyB,0BAAzB;AAEA,OAAO,OAAP,MAAoB,0BAApB;AACA,SAAS,GAAT,QAAoB,uBAApB;AAGA,OAAO,YAAP,MAAyB,mCAAzB;AAEA,OAAO,UAAP,MAAuB,cAAvB;AACA,OAAO,KAAP,MAAkB,SAAlB;;AAIA,IAAqB,cAArB;AAAA;AAAA;AAAA;;AAAA,4BAAA;AAAA;;AAAA;;;AAEY,UAAA,OAAA,GAAmB,KAAnB;AAEA,UAAA,QAAA,GAAmB,EAAnB;AAEA,UAAA,QAAA,GAAmB,EAAnB;AAEA,UAAA,UAAA,GAAqB,EAArB;AARZ;AA+DC;;AA/DD;AAAA;AAAA,kCAWsB;AACd,aAAO;AACH,QAAA,QAAQ,EAAE;AACN,UAAA,QAAQ,EAAR;AADM,SADP;AAKH,QAAA,QAAQ,EAAE;AACN,UAAA,QAAQ,EAAR;AADM;AALP,OAAP;AASH;AArBL;AAAA;AAAA,8BAwBmB;AAAA;;AACX,WAAK,OAAL,GAAe,IAAf;AACA,WAAK,UAAL,GAAkB,EAAlB;AAEA,MAAA,YAAY,CAAC,QAAb,CACI;AACI,QAAA,QAAQ,EAAE,KAAK,QADnB;AAEI,QAAA,QAAQ,EAAE,KAAK;AAFnB,OADJ,EAMI,UAAC,QAAD,EAAkB;AACd,QAAA,MAAI,CAAC,OAAL,GAAe,KAAf;AACA,QAAA,KAAK,CAAC,MAAN,CAAa,oBAAb,EAAmC,QAAQ,CAAC,OAAT,CAAiB,aAApD;;AACA,QAAA,MAAI,CAAC,OAAL,CAAa,IAAb,CAAkB;AAAC,UAAA,IAAI,EAAE;AAAP,SAAlB;;AACA,QAAA,GAAG,CAAC,IAAJ,CAAS,gBAAgB,IAAI,CAAC,SAAL,CAAe,QAAf,CAAzB;AACH,OAXL,EAaI,UAAC,KAAD,EAAe;AACX,QAAA,MAAI,CAAC,OAAL,GAAe,KAAf;;AACA,QAAA,MAAI,CAAC,YAAL,CAAkB,KAAlB;;AACA,QAAA,GAAG,CAAC,KAAJ,CAAU,mBAAmB,IAAI,CAAC,SAAL,CAAe,KAAf,CAA7B;AACH,OAjBL;AAmBH;AA/CL;AAAA;AAAA,iCAkDyB,KAlDzB,EAkDmC;AAC3B,UAAI,KAAK,CAAC,QAAV,EAAoB;AAChB,YAAI,KAAK,CAAC,QAAN,CAAe,MAAf,KAA0B,GAA9B,EAAmC;AAC/B,eAAK,UAAL,GAAkB,6BAAlB;AACH,SAFD,MAEO,IAAI,KAAK,CAAC,QAAN,CAAe,MAAf,KAA0B,CAA9B,EAAiC;AACpC,eAAK,UAAL,GAAkB,qBAAlB;AACH;AACJ,OAND,MAMO;AACH,aAAK,UAAL,GAAkB,wBAAlB;AACH;AACJ;AA5DL;;AAAA;AAAA,EAA4C,OAA5C,CAAA;;AAAqB,cAAc,GAAA,UAAA,CAAA,CAFlC,UAEkC,EADlC,SACkC,CAAA,EAAd,cAAc,CAAd;eAAA,c","sourcesContent":["import { Component } from 'vue-property-decorator';\nimport { required } from 'vuelidate/lib/validators';\n\nimport BaseVue from '../../components/BaseVue';\nimport { Log } from '../../components/util';\n\n\nimport LoginService from '../../services/login/LoginService';\n\nimport WithRender from './login.html';\nimport store from '@/store';\n\n@WithRender\n@Component\nexport default class LoginComponent extends BaseVue {\n\n    private loading: boolean = false;\n\n    private username: string = '';\n\n    private password: string = '';\n\n    private loginError: string = '';\n\n\n    public validations() {\n        return {\n            username: {\n                required,\n            },\n\n            password: {\n                required,\n            },\n        };\n    }\n\n\n    private doLogin() {\n        this.loading = true;\n        this.loginError = '';\n\n        LoginService.initiate(\n            {\n                username: this.username,\n                password: this.password,\n            },\n\n            (response: any) => {\n                this.loading = false;\n                store.commit('authToken/apiToken', response.headers.authorization);\n                this.$router.push({path: '/back-office'});\n                Log.info('Logged In: ' + JSON.stringify(response));\n            },\n\n            (error: any) => {\n                this.loading = false;\n                this.extractError(error);\n                Log.error('Logged Error: ' + JSON.stringify(error));\n            },\n        );\n    }\n\n\n    private extractError(error: any) {\n        if (error.response) {\n            if (error.response.status === 401) {\n                this.loginError = 'Invalid Username / Password';\n            } else if (error.response.status === 0) {\n                this.loginError = 'Cannot Reach Server';\n            }\n        } else {\n            this.loginError = 'Unknown Error Occurred';\n        }\n    }\n\n\n}\n"],"sourceRoot":""}]}